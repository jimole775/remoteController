!function(I){var g={};function c(C){if(g[C])return g[C].exports;var e=g[C]={i:C,l:!1,exports:{}};return I[C].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.m=I,c.c=g,c.d=function(I,g,C){c.o(I,g)||Object.defineProperty(I,g,{enumerable:!0,get:C})},c.r=function(I){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},c.t=function(I,g){if(1&g&&(I=c(I)),8&g)return I;if(4&g&&"object"==typeof I&&I&&I.__esModule)return I;var C=Object.create(null);if(c.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:I}),2&g&&"string"!=typeof I)for(var e in I)c.d(C,e,function(g){return I[g]}.bind(null,e));return C},c.n=function(I){var g=I&&I.__esModule?function(){return I.default}:function(){return I};return c.d(g,"a",g),g},c.o=function(I,g){return Object.prototype.hasOwnProperty.call(I,g)},c.p="F:\\MyPro\\remoteController",c(c.s=9)}([function(module,exports){eval('module.exports = require("path");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcInBhdGhcIj83NGJiIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhdGhcIik7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* WEBPACK VAR INJECTION */(function(__dirname) {function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar fs = __webpack_require__(2);\n\nvar path = __webpack_require__(0);\n\n/* harmony default export */ __webpack_exports__["a"] = (new (\n/*#__PURE__*/\nfunction () {\n  function Log() {\n    _classCallCheck(this, Log);\n  }\n\n  _createClass(Log, [{\n    key: "data",\n    value: function data(_data) {\n      _data = Log.queryMsg(_data);\n      var timer = Log.getTimer();\n      var fileName = Log.createFileName("data");\n      var content = "\\u3010".concat(timer, "\\u3011\\r\\n").concat(_data, "\\r\\n");\n      this.writeFile("data", fileName, content);\n    }\n  }, {\n    key: "error",\n    value: function error(msg) {\n      msg = Log.queryMsg(msg);\n      var timer = Log.getTimer();\n      var fileName = Log.createFileName("error");\n      var content = "\\u3010".concat(timer, "\\u3011\\r\\n").concat(msg, "\\r\\n");\n      console.log(content);\n      this.writeFile("error", fileName, content);\n    }\n  }, {\n    key: "user",\n    value: function user(id, ip) {\n      id = Log.queryMsg(id);\n      ip = Log.queryMsg(ip);\n      var timer = Log.getTimer();\n      var fileName = Log.createFileName("user");\n      var content = "\\u3010".concat(timer, "\\u3011\\r\\n").concat(ip, " ").concat(id, "\\r\\n");\n      this.writeFile("user", fileName, content);\n    }\n  }, {\n    key: "writeFile",\n    value: function writeFile(type, filePath, content) {\n      var mkdir = new Promise(function (resolve, reject) {\n        fs.readdir(path.join(__dirname, type), function (err, fileGroup) {\n          if (fileGroup instanceof Array) resolve();else reject();\n        });\n      });\n      mkdir.then(function () {\n        fs.appendFile(filePath, content, "utf8");\n      }, function () {\n        fs.mkdir(path.join(__dirname, type), function () {\n          fs.appendFile(filePath, content, "utf8");\n        });\n      });\n    }\n  }], [{\n    key: "queryMsg",\n    value: function queryMsg(msg) {\n      if (_typeof(msg) === "object") {\n        try {\n          msg = JSON.stringify(msg);\n        } catch (error) {\n          msg = "".concat(error.message, "\\r\\n").concat(error.stack);\n        }\n      }\n\n      return msg;\n    }\n  }, {\n    key: "getTimer",\n    value: function getTimer() {\n      var now = new Date();\n      var h = now.getHours().toString(); //时\n\n      var m = now.getMinutes().toString(); //分\n\n      var s = now.getSeconds().toString(); //秒\n\n      h = h.length < 2 ? 0 + h : h;\n      m = m.length < 2 ? 0 + m : m;\n      s = s.length < 2 ? 0 + s : s;\n      return "".concat(h, ":").concat(m, ":").concat(s);\n    }\n  }, {\n    key: "createFileName",\n    value: function createFileName(type) {\n      var now = new Date();\n      var y = now.getFullYear();\n      var m = now.getMonth();\n      var d = now.getDay();\n      return path.resolve(__dirname.split("\\\\").join("/"), type, "".concat(y, ".").concat(m, ".").concat(d, ".log"));\n    }\n  }]);\n\n  return Log;\n}())());\n/* WEBPACK VAR INJECTION */}.call(this, "server\\\\log"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NlcnZlci9sb2cvbWFpbi5qcz8xMmY5Il0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5jb25zdCBmcyA9IHJlcXVpcmUoXCJmc1wiKTtcclxuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xyXG5leHBvcnQgZGVmYXVsdCBuZXcgY2xhc3MgTG9nIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGRhdGEoZGF0YSl7XHJcbiAgICAgICAgZGF0YSA9IExvZy5xdWVyeU1zZyhkYXRhKTtcclxuICAgICAgICBsZXQgdGltZXIgPSBMb2cuZ2V0VGltZXIoKTtcclxuICAgICAgICBsZXQgZmlsZU5hbWUgPSBMb2cuY3JlYXRlRmlsZU5hbWUoXCJkYXRhXCIpO1xyXG4gICAgICAgIGxldCBjb250ZW50ID0gYOOAkCR7dGltZXJ944CRXFxyXFxuJHtkYXRhfVxcclxcbmA7XHJcbiAgICAgICAgdGhpcy53cml0ZUZpbGUoXCJkYXRhXCIsIGZpbGVOYW1lLCBjb250ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBlcnJvcihtc2cpIHtcclxuICAgICAgICBtc2cgPSBMb2cucXVlcnlNc2cobXNnKTtcclxuICAgICAgICBsZXQgdGltZXIgPSBMb2cuZ2V0VGltZXIoKTtcclxuICAgICAgICBsZXQgZmlsZU5hbWUgPSBMb2cuY3JlYXRlRmlsZU5hbWUoXCJlcnJvclwiKTtcclxuICAgICAgICBsZXQgY29udGVudCA9IGDjgJAke3RpbWVyfeOAkVxcclxcbiR7bXNnfVxcclxcbmA7XHJcbiAgICAgICAgY29uc29sZS5sb2coY29udGVudCk7XHJcbiAgICAgICAgdGhpcy53cml0ZUZpbGUoXCJlcnJvclwiLCBmaWxlTmFtZSwgY29udGVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXNlcihpZCwgaXApIHtcclxuICAgICAgICBpZCA9IExvZy5xdWVyeU1zZyhpZCk7XHJcbiAgICAgICAgaXAgPSBMb2cucXVlcnlNc2coaXApO1xyXG4gICAgICAgIGxldCB0aW1lciA9IExvZy5nZXRUaW1lcigpO1xyXG4gICAgICAgIGxldCBmaWxlTmFtZSA9IExvZy5jcmVhdGVGaWxlTmFtZShcInVzZXJcIik7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQgPSBg44CQJHt0aW1lcn3jgJFcXHJcXG4ke2lwfSAke2lkfVxcclxcbmA7XHJcbiAgICAgICAgdGhpcy53cml0ZUZpbGUoXCJ1c2VyXCIsIGZpbGVOYW1lLCBjb250ZW50KVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBxdWVyeU1zZyhtc2cpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG1zZyA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgbXNnID0gSlNPTi5zdHJpbmdpZnkobXNnKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBtc2cgPSBgJHtlcnJvci5tZXNzYWdlfVxcclxcbiR7ZXJyb3Iuc3RhY2t9YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG1zZztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0VGltZXIoKSB7XHJcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICAgICAgICBsZXQgaCA9IG5vdy5nZXRIb3VycygpLnRvU3RyaW5nKCk7ICAvL+aXtlxyXG4gICAgICAgIGxldCBtID0gbm93LmdldE1pbnV0ZXMoKS50b1N0cmluZygpOyAgLy/liIZcclxuICAgICAgICBsZXQgcyA9IG5vdy5nZXRTZWNvbmRzKCkudG9TdHJpbmcoKTsgIC8v56eSXHJcbiAgICAgICAgaCA9IGgubGVuZ3RoIDwgMiA/IDAgKyBoIDogaDtcclxuICAgICAgICBtID0gbS5sZW5ndGggPCAyID8gMCArIG0gOiBtO1xyXG4gICAgICAgIHMgPSBzLmxlbmd0aCA8IDIgPyAwICsgcyA6IHM7XHJcbiAgICAgICAgcmV0dXJuIGAke2h9OiR7bX06JHtzfWA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNyZWF0ZUZpbGVOYW1lKHR5cGUpIHtcclxuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG5cclxuICAgICAgICBsZXQgeSA9IG5vdy5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgIGxldCBtID0gbm93LmdldE1vbnRoKCk7XHJcbiAgICAgICAgbGV0IGQgPSBub3cuZ2V0RGF5KCk7XHJcblxyXG4gICAgICAgIHJldHVybiBwYXRoLnJlc29sdmUoX19kaXJuYW1lLnNwbGl0KFwiXFxcXFwiKS5qb2luKFwiL1wiKSwgdHlwZSwgYCR7eX0uJHttfS4ke2R9LmxvZ2ApO1xyXG4gICAgfVxyXG5cclxuICAgIHdyaXRlRmlsZSh0eXBlLCBmaWxlUGF0aCwgY29udGVudCkgeyAgICAgICAgXHJcblxyXG4gICAgICAgIGxldCBta2RpciA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgZnMucmVhZGRpcihwYXRoLmpvaW4oX19kaXJuYW1lLCB0eXBlKSwgZnVuY3Rpb24gKGVyciwgZmlsZUdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsZUdyb3VwIGluc3RhbmNlb2YgQXJyYXkpIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgcmVqZWN0KCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG1rZGlyXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGUoZmlsZVBhdGgsIGNvbnRlbnQsIFwidXRmOFwiKTtcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZnMubWtkaXIocGF0aC5qb2luKF9fZGlybmFtZSwgdHlwZSksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlKGZpbGVQYXRoLCBjb250ZW50LCBcInV0ZjhcIik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUxBO0FBQUE7QUFBQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVpBO0FBQUE7QUFBQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBckJBO0FBQUE7QUFBQTtBQXdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTlCQTtBQUFBO0FBQUE7QUFvRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFwRkE7QUFBQTtBQUFBO0FBaUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBM0NBO0FBQUE7QUFBQTtBQThDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0REE7QUFBQTtBQUFBO0FBeURBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQWhFQTtBQUNBO0FBREE7QUFBQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n')},function(module,exports){eval('module.exports = require("fs");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcImZzXCI/YTQwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmc1wiKTsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateHttp; });\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);\n/* harmony import */ var http__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(http__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(0);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var zlib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(6);\n/* harmony import */ var zlib__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(zlib__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var log__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(1);\n/**\r\n * Created by Andy on 2017/2/8.\r\n */\n\n\n\n\n\n\nclass CreateHttp {\n  constructor() {\n    this.url = url__WEBPACK_IMPORTED_MODULE_0___default.a;\n    this.http = http__WEBPACK_IMPORTED_MODULE_1___default.a;\n    this.fs = fs__WEBPACK_IMPORTED_MODULE_2___default.a;\n    this.path = path__WEBPACK_IMPORTED_MODULE_3___default.a;\n    this.zlib = zlib__WEBPACK_IMPORTED_MODULE_4___default.a;\n    this.log = log__WEBPACK_IMPORTED_MODULE_5__[/* default */ "a"];\n  }\n\n  open(port) {\n    let that = this;\n    that.http.createServer(function (req, res) {\n      that.writeHead(req, res).response(req, res);\n    }).listen(port, function () {});\n  }\n\n  writeHead(req, res) {\n    let fileName = req.url.split("/").pop();\n    fileName = fileName ? fileName : "index.html";\n    let extension = fileName.split(".").pop();\n    let contentType = "text/html";\n    let contentEncoding = "gzip";\n    let useCache = true;\n    console.log("req.url: ", req.url);\n\n    switch (extension) {\n      case "css":\n        contentType = "text/css";\n        break;\n\n      case "html":\n        contentType = "text/html";\n        contentEncoding = null;\n        useCache = false;\n        break;\n\n      case "js":\n        contentType = "application/javascript";\n        break;\n\n      case "png":\n      case "jpg":\n      case "jpeg":\n      case "gif":\n        contentType = "image/" + extension;\n        contentEncoding = null;\n        break;\n\n      case "ico":\n        contentType = "image/" + extension;\n        contentEncoding = null;\n        useCache = false;\n        break;\n\n      default:\n        // ajax请求不会带后缀，默认就是请求json数据类型\n        // 日后还会有xml数据类型\n        contentType = "application/json";\n        useCache = false;\n        contentEncoding = null;\n        break;\n    }\n\n    let headOption = {\n      "Content-Type": contentType\n    };\n    if (useCache) headOption["Cache-Control"] = "max-age=" + 30 * 24 * 60 * 60 * 1000;\n    if (contentEncoding) headOption["Content-Encoding"] = contentEncoding;\n    res.writeHead(200, headOption);\n    return this;\n  }\n\n  response(req, res) {\n    let that = this;\n    let xRequestedWith = req.headers["x-requested-with"];\n    let extension = that.path.extname(req.url);\n    let gzipHandler = that.zlib.createGzip();\n    console.log("xRequestedWith: ", xRequestedWith);\n\n    if (req.url == "/") {\n      console.log("来自 ", req.headers["referer"], " 的请求"); //初始化客户端；\n\n      that.fs.readFile(that.path.join(SOURCES_DIS, req.url, "index.html"), function (err, chunk) {\n        if (err) {\n          that.log.error(err);\n        } else {\n          res.write(chunk.toString());\n        }\n\n        res.end();\n      });\n    }\n\n    if (extension) {\n      //CDN资源请求；      \n      let fileStream = null;\n\n      if (/\\.(png|jpg|jpeg|gif|ico)$/.test(extension)) {\n        // 图片类型转换成“base64”输出\n        fileStream = that.fs.createReadStream(that.path.join(ASSETS_DIS, req.url));\n        fileStream.pipe(res);\n      } else {\n        fileStream = that.fs.createReadStream(that.path.join(SOURCES_DIS, req.url));\n        fileStream.pipe(gzipHandler).pipe(res);\n      }\n    } // ajax请求：\n\n\n    if (xRequestedWith) {\n      // noinspection JSAnnotator\n      function upsetFinalData(item, targetProp) {\n        if (!Math.round(Math.random())) {\n          if (item[targetProp] instanceof Array) {\n            item[targetProp].length = 0;\n          } else {\n            item[targetProp] = {};\n          }\n        }\n\n        return item;\n      }\n\n      req.on("data", function (data) {\n        let ajaxData = new that.url.parse("?" + data.toString(), true).query;\n        let filename = ajaxData.dataType + ".json";\n        console.log("the db direct", that.path.join(DB_DIS, req.url, filename));\n        that.fs.readFile(that.path.join(DB_DIS, req.url, filename), function (err, chunk) {\n          if (err) {\n            that.log.error(err);\n          } else {\n            let scannerData = JSON.parse(chunk.toString());\n            let finalData = Object.assign(scannerData.items[ajaxData.index], {\n              itemcount: scannerData.itemcount\n            });\n            res.write(JSON.stringify(upsetFinalData(finalData, "info")));\n          }\n\n          res.end();\n        });\n      });\n    }\n\n    return this;\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NlcnZlci9odHRwL2luaXQvb3Blbi5qcz82N2Q4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFuZHkgb24gMjAxNy8yLzguXHJcbiAqL1xyXG5cclxuaW1wb3J0IHVybCBmcm9tIFwidXJsXCI7XHJcbmltcG9ydCBodHRwIGZyb20gXCJodHRwXCI7XHJcbmltcG9ydCBmcyBmcm9tIFwiZnNcIjtcclxuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcclxuaW1wb3J0IHpsaWIgZnJvbSBcInpsaWJcIjtcclxuaW1wb3J0IGxvZyBmcm9tIFwibG9nXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3JlYXRlSHR0cCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnVybCA9IHVybDtcclxuICAgICAgICB0aGlzLmh0dHAgPSBodHRwO1xyXG4gICAgICAgIHRoaXMuZnMgPSBmcztcclxuICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xyXG4gICAgICAgIHRoaXMuemxpYiA9IHpsaWI7XHJcbiAgICAgICAgdGhpcy5sb2cgPSBsb2c7XHJcbiAgICB9XHJcblxyXG4gICAgb3Blbihwb3J0KSB7XHJcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xyXG4gICAgICAgIHRoYXQuaHR0cC5jcmVhdGVTZXJ2ZXIoZnVuY3Rpb24gKHJlcSwgcmVzKSB7XHJcbiAgICAgICAgICAgIHRoYXQud3JpdGVIZWFkKHJlcSwgcmVzKS5yZXNwb25zZShyZXEsIHJlcyk7XHJcbiAgICAgICAgfSkubGlzdGVuKHBvcnQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB3cml0ZUhlYWQocmVxLCByZXMpIHtcclxuICAgICAgICBsZXQgZmlsZU5hbWUgPSByZXEudXJsLnNwbGl0KFwiL1wiKS5wb3AoKTtcclxuICAgICAgICBmaWxlTmFtZSA9IGZpbGVOYW1lID8gZmlsZU5hbWUgOiBcImluZGV4Lmh0bWxcIjtcclxuICAgICAgICBsZXQgZXh0ZW5zaW9uID0gZmlsZU5hbWUuc3BsaXQoXCIuXCIpLnBvcCgpO1xyXG4gICAgICAgIGxldCBjb250ZW50VHlwZSA9IFwidGV4dC9odG1sXCI7XHJcbiAgICAgICAgbGV0IGNvbnRlbnRFbmNvZGluZyA9IFwiZ3ppcFwiO1xyXG4gICAgICAgIGxldCB1c2VDYWNoZSA9IHRydWU7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwicmVxLnVybDogXCIscmVxLnVybCk7XHJcbiAgICAgICAgc3dpdGNoIChleHRlbnNpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBcImNzc1wiOlxyXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGUgPSBcInRleHQvY3NzXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImh0bWxcIjpcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlID0gXCJ0ZXh0L2h0bWxcIjsgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb250ZW50RW5jb2RpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdXNlQ2FjaGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwianNcIjpcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlID0gXCJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0XCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInBuZ1wiOlxyXG4gICAgICAgICAgICBjYXNlIFwianBnXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJqcGVnXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJnaWZcIjpcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlID0gXCJpbWFnZS9cIiArIGV4dGVuc2lvbjsgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb250ZW50RW5jb2RpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJpY29cIjpcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlID0gXCJpbWFnZS9cIiArIGV4dGVuc2lvbjsgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb250ZW50RW5jb2RpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdXNlQ2FjaGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAvLyBhamF46K+35rGC5LiN5Lya5bim5ZCO57yA77yM6buY6K6k5bCx5piv6K+35rGCanNvbuaVsOaNruexu+Wei1xyXG4gICAgICAgICAgICAvLyDml6XlkI7ov5jkvJrmnIl4bWzmlbDmja7nsbvlnotcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlID0gXCJhcHBsaWNhdGlvbi9qc29uXCI7XHJcbiAgICAgICAgICAgICAgICB1c2VDYWNoZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgY29udGVudEVuY29kaW5nID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGhlYWRPcHRpb24gPSB7XHJcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6Y29udGVudFR5cGVcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmKHVzZUNhY2hlKWhlYWRPcHRpb25bXCJDYWNoZS1Db250cm9sXCJdID0gXCJtYXgtYWdlPVwiICsgMzAqMjQqNjAqNjAqMTAwMDtcclxuICAgICAgICBpZihjb250ZW50RW5jb2RpbmcpIGhlYWRPcHRpb25bXCJDb250ZW50LUVuY29kaW5nXCJdID0gY29udGVudEVuY29kaW5nOyAgICAgICAgXHJcblxyXG4gICAgICAgIHJlcy53cml0ZUhlYWQoMjAwLCBoZWFkT3B0aW9uKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzcG9uc2UocmVxLCByZXMpIHtcclxuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgbGV0IHhSZXF1ZXN0ZWRXaXRoID0gcmVxLmhlYWRlcnNbXCJ4LXJlcXVlc3RlZC13aXRoXCJdO1xyXG4gICAgICAgIGxldCBleHRlbnNpb24gPSB0aGF0LnBhdGguZXh0bmFtZShyZXEudXJsKTtcclxuICAgICAgICBsZXQgZ3ppcEhhbmRsZXIgPSB0aGF0LnpsaWIuY3JlYXRlR3ppcCgpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcInhSZXF1ZXN0ZWRXaXRoOiBcIix4UmVxdWVzdGVkV2l0aCk7XHJcbiAgICAgICAgaWYgKHJlcS51cmwgPT0gXCIvXCIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLmnaXoh6ogXCIsIHJlcS5oZWFkZXJzW1wicmVmZXJlclwiXSwgXCIg55qE6K+35rGCXCIpO1xyXG4gICAgICAgICAgICAvL+WIneWni+WMluWuouaIt+err++8m1xyXG4gICAgICAgICAgICB0aGF0LmZzLnJlYWRGaWxlKHRoYXQucGF0aC5qb2luKFNPVVJDRVNfRElTLCByZXEudXJsLCBcImluZGV4Lmh0bWxcIiksIGZ1bmN0aW9uIChlcnIsIGNodW5rKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQubG9nLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy53cml0ZShjaHVuay50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlcy5lbmQoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGV4dGVuc2lvbikge1xyXG4gICAgICAgICAgICAvL0NETui1hOa6kOivt+axgu+8myAgICAgIFxyXG4gICAgICAgICAgICBsZXQgZmlsZVN0cmVhbSA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICgvXFwuKHBuZ3xqcGd8anBlZ3xnaWZ8aWNvKSQvLnRlc3QoZXh0ZW5zaW9uKSkge1xyXG4gICAgICAgICAgICAgICAgLy8g5Zu+54mH57G75Z6L6L2s5o2i5oiQ4oCcYmFzZTY04oCd6L6T5Ye6XHJcbiAgICAgICAgICAgICAgICBmaWxlU3RyZWFtID0gdGhhdC5mcy5jcmVhdGVSZWFkU3RyZWFtKHRoYXQucGF0aC5qb2luKEFTU0VUU19ESVMsIHJlcS51cmwpKTsgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGZpbGVTdHJlYW0ucGlwZShyZXMpO1xyXG5cclxuICAgICAgICAgICAgfWVsc2V7XHJcblxyXG4gICAgICAgICAgICAgICAgZmlsZVN0cmVhbSA9IHRoYXQuZnMuY3JlYXRlUmVhZFN0cmVhbSh0aGF0LnBhdGguam9pbihTT1VSQ0VTX0RJUywgcmVxLnVybCkpO1xyXG4gICAgICAgICAgICAgICAgZmlsZVN0cmVhbS5waXBlKGd6aXBIYW5kbGVyKS5waXBlKHJlcyk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gYWpheOivt+axgu+8mlxyXG4gICAgICAgIGlmICh4UmVxdWVzdGVkV2l0aCkge1xyXG4gICAgICAgICAgICAvLyBub2luc3BlY3Rpb24gSlNBbm5vdGF0b3JcclxuICAgICAgICAgICAgZnVuY3Rpb24gdXBzZXRGaW5hbERhdGEoaXRlbSwgdGFyZ2V0UHJvcCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtW3RhcmdldFByb3BdIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbVt0YXJnZXRQcm9wXS5sZW5ndGggPSAwXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbVt0YXJnZXRQcm9wXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJlcS5vbihcImRhdGFcIiwgZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgYWpheERhdGEgPSBuZXcgdGhhdC51cmwucGFyc2UoXCI/XCIgKyBkYXRhLnRvU3RyaW5nKCksIHRydWUpLnF1ZXJ5O1xyXG4gICAgICAgICAgICAgICAgbGV0IGZpbGVuYW1lID0gYWpheERhdGEuZGF0YVR5cGUgKyBcIi5qc29uXCI7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInRoZSBkYiBkaXJlY3RcIix0aGF0LnBhdGguam9pbihEQl9ESVMsIHJlcS51cmwsIGZpbGVuYW1lKSk7XHJcbiAgICAgICAgICAgICAgICB0aGF0LmZzLnJlYWRGaWxlKHRoYXQucGF0aC5qb2luKERCX0RJUywgcmVxLnVybCwgZmlsZW5hbWUpLCBmdW5jdGlvbiAoZXJyLCBjaHVuaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGVycil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQubG9nLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNle1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjYW5uZXJEYXRhID0gSlNPTi5wYXJzZShjaHVuay50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbmFsRGF0YSA9IE9iamVjdC5hc3NpZ24oc2Nhbm5lckRhdGEuaXRlbXNbYWpheERhdGEuaW5kZXhdLCB7aXRlbWNvdW50OiBzY2FubmVyRGF0YS5pdGVtY291bnR9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLndyaXRlKEpTT04uc3RyaW5naWZ5KHVwc2V0RmluYWxEYXRhKGZpbmFsRGF0YSwgXCJpbmZvXCIpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXMuZW5kKCk7ICAgXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTlCQTtBQUNBO0FBZ0NBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBckpBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n')},function(module,exports){eval('module.exports = require("url");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcInVybFwiPzYxZTgiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidXJsXCIpOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n')},function(module,exports){eval('module.exports = require("http");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcImh0dHBcIj84ZDE5Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImh0dHBcIik7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n')},function(module,exports){eval('module.exports = require("zlib");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcInpsaWJcIj9lNTkxIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInpsaWJcIik7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n')},function(module,exports){eval('module.exports = require("crypto");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcImNyeXB0b1wiPzRjNzYiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY3J5cHRvXCIpOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: external "path"\nvar external_path_ = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./server/socket/services/tool/payload.compiler/frameEncode.js\n/**\r\n * Created by Andy on 2017/11/4.\r\n */\n/* harmony default export */ var frameEncode = (function (e) {\n  var s = [],\n      o = new Buffer(e.PayloadData),\n      l = o.length; //输入第一个字节\n\n  s.push((e.FIN << 7) + e.Opcode); //输入第二个字节，判断它的长度并放入相应的后续长度消息\n  //永远不使用掩码\n\n  if (l < 126) {\n    s.push(l);\n  } else if (l < 0x10000) {\n    s.push(126, (l & 0xFF00) >> 8, l & 0xFF);\n  } else {\n    //8字节数据，前4字节一般没用留空;\n    s.push(127, 0, 0, 0, 0, (l & 0xFF000000) >> 24, (l & 0xFF0000) >> 16, (l & 0xFF00) >> 8, l & 0xFF);\n  } //返回头部分和数据部分的合并缓冲区\n\n\n  return Buffer.concat([new Buffer(s), o]);\n});\n// CONCATENATED MODULE: ./server/socket/services/tool/payload.compiler/frameDecode.js\n/**\r\n * Created by Andy on 2017/11/4.\r\n */\n/* harmony default export */ var frameDecode = (function (e) {\n  let i = 0,\n      j,\n      s,\n      frame = {\n    //解析前两个字节的基本数据\n    FIN: e[i] >> 7,\n    Opcode: e[i++] & 15,\n    Mask: e[i] >> 7,\n    PayloadLength: e[i++] & 0x7F\n  };\n\n  if (frame.PayloadLength == 126) {\n    //处理特殊长度126和127\n    frame.PayloadLength = (e[i++] << 8) + e[i++];\n  }\n\n  if (frame.PayloadLength == 127) {\n    i += 4; //长度一般用四字节的整型，前四个字节通常为长整形留空的\n\n    frame.PayloadLength = (e[i++] << 24) + (e[i++] << 16) + (e[i++] << 8) + e[i++];\n  }\n\n  if (frame.Mask) {\n    //判断是否使用掩码\n    //获取掩码实体\n    frame.MaskingKey = [e[i++], e[i++], e[i++], e[i++]]; //对数据和掩码做异或运算\n\n    for (j = 0, s = []; j < frame.PayloadLength; j++) s.push(e[i + j] ^ frame.MaskingKey[j % 4]);\n  } else {\n    s = e.slice(i, frame.PayloadLength); //否则直接使用数据\n  } //数组转换成缓冲区来使用\n\n\n  s = new Buffer(s); //如果有必要则把缓冲区转换成字符串来使用\n\n  if (frame.Opcode == 1) {\n    s = s.toString();\n  } //设置上数据部分\n\n\n  frame.PayloadData = s; //返回数据帧\n\n  return frame;\n});\n// CONCATENATED MODULE: ./server/socket/services/tool/exports.js\n/**\r\n * Created by Andy on 2017/3/14.\r\n */\n\n\n\n\nfunction add(target, name, file) {\n  target.prototype[name] = file;\n} //@add(Tool,"frameEncode", frameEncode);\n//@add(Tool,"frameDecode", frameDecode);\n\n\nclass Tool {\n  constructor() {}\n\n}\n\nadd(Tool, "frameEncode", frameEncode);\nadd(Tool, "frameDecode", frameDecode);\n/* harmony default export */ var tool_exports = (new Tool());\n// CONCATENATED MODULE: ./public/plugin/StorageRegister/StorageRegister.js\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\r\n * Created by Andy on 2017/11/9.\r\n */\nvar StorageRegister =\n/*#__PURE__*/\nfunction () {\n  function StorageRegister() {\n    var inject = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, StorageRegister);\n\n    this.storage = inject;\n  }\n\n  _createClass(StorageRegister, [{\n    key: "getStorage",\n    value: function getStorage(name) {\n      return this.storage[name];\n    }\n  }, {\n    key: "setStorage",\n    value: function setStorage(itemName, innerProp, val) {\n      /* if (this.storage[itemName] instanceof Array) {\r\n           val = prop;\r\n           this.storage[itemName].push(val);\r\n       }\r\n       else */\n      if (val === undefined) {\n        val = innerProp;\n        this.storage[itemName] = val;\n      } else {\n        this.storage[itemName][innerProp] = val;\n      }\n\n      return this;\n    }\n  }, {\n    key: "addStorage",\n    value: function addStorage(itemName, val) {\n      if (this.storage[itemName] instanceof Array) {\n        this.storage[itemName].push(val);\n      } else {\n        throw new Error("this storage isn\'t a Array!");\n      }\n\n      return this;\n    }\n  }, {\n    key: "delStorage",\n    value: function delStorage(name, val) {\n      if (this.storage[name] instanceof Array) {\n        var index = val;\n        this.storage[name].splice(index, 1);\n      } else {\n        delete this.storage[name][val];\n      }\n\n      return this;\n    }\n  }], [{\n    key: "version",\n    value: function version() {\n      console.log("v1.0");\n    }\n  }, {\n    key: "author",\n    value: function author() {\n      console.log("我不tell you~");\n    }\n  }]);\n\n  return StorageRegister;\n}();\n\n\n// CONCATENATED MODULE: ./server/socket/services/socket.storage/socketStorage.js\n/**\r\n * Created by Andy on 2017/11/7.\r\n */\n\nlet storage = {\n  clients: {},\n  namesMap: [],\n  remoteChanelMap: [],\n  opcode: 0\n};\n/* harmony default export */ var socketStorage = (new StorageRegister(storage));\n// CONCATENATED MODULE: ./server/socket/emitter/emitter.js\n/**\r\n * Created by Andy on 2017/3/23.\r\n */\n\n\n/* harmony default export */ var emitter = (function (status, emitData, socket) {\n  let opcode = socketStorage.getStorage("opcode");\n  let emitProtocolMap = {\n    "status": status,\n    "serverData": emitData,\n    // 谁发上来的数据，就返回给谁，其他用户一律返回null\n    "clientData": emitData.clientData && emitData.clientData.uid === socket.uid ? emitData.clientData : null\n  };\n  console.log("emitProtocolMap:", emitProtocolMap);\n  let PayloadData = opcode == 1 ? JSON.stringify(emitProtocolMap) : new Buffer(JSON.stringify(emitProtocolMap));\n  if (socket.uid && socket.writable) socket.write(tool_exports.frameEncode({\n    FIN: 1,\n    Opcode: opcode,\n    PayloadData: PayloadData\n  }));\n});\n// CONCATENATED MODULE: ./server/socket/interactive/tasks/disconnectChanel.js\n/**\r\n * Created by Andy on 2017/11/4.\r\n */\n\n\n/* harmony default export */ var disconnectChanel = (function (socket, data) {\n  let fromUid = socket.uid;\n  let clients = socketStorage.getStorage("clients");\n  let namesMap = socketStorage.getStorage("namesMap");\n  let remoteChanelMap = socketStorage.getStorage("remoteChanelMap") || [];\n  let askerUid = null;\n  let helperUid = null; // 排查断开的用户，检查是否与其他用户有通讯\n  // 删除配对通道，并告知通信的另一端\n\n  remoteChanelMap.forEach(function (item, index) {\n    if (item.askerUid == fromUid || item.helperUid == fromUid) {\n      askerUid = item.askerUid;\n      helperUid = item.helperUid;\n      emitter(0xFF, {\n        remoteId: 0,\n        remoteChanelMap: socketStorage.delStorage("remoteChanelMap", index).getStorage("remoteChanelMap")\n      }, clients[askerUid == fromUid ? helperUid : askerUid]);\n    }\n  }); // 另行通知其他所有的用户 哪两个用户结束远程业务\n  // 解除用户列表中"busing"状态，使其可以被选取\n\n  namesMap.forEach(function (item) {\n    if (askerUid == item || helperUid == item) return;\n    emitter(0x07, {\n      remoteChanelMap: socketStorage.getStorage("remoteChanelMap")\n    }, clients[item]);\n  });\n});\n;\n// CONCATENATED MODULE: ./server/socket/interactive/tasks/reduceUser.js\n/**\r\n * Created by Andy on 2017/11/4.\r\n */\n\n //通知前端删除断开的用户\n\n/* harmony default export */ var reduceUser = (function (socket) {\n  let namesMap = socketStorage.getStorage("namesMap");\n  let clients = socketStorage.getStorage("clients");\n  let deadUid = socket.uid;\n\n  if (deadUid) {\n    //删除断线的会话，\n    socketStorage.delStorage("clients", deadUid); //删除断线的用户名，\n\n    let index = namesMap.indexOf(deadUid);\n    console.log("删除了用户：", namesMap[index]);\n    socketStorage.delStorage("namesMap", index);\n    console.log("删除之后剩余的用户：", socketStorage.getStorage("namesMap"));\n  } //刷新用户列表到客户端\n\n\n  socketStorage.getStorage("namesMap").forEach(function (item, index) {\n    let clients = socketStorage.getStorage("clients");\n    emitter(0xFE, {\n      deadUid: socket.uid\n    }, clients[item]);\n  });\n});\n;\n// CONCATENATED MODULE: ./server/socket/interactive/tasks/heartBeat.js\n/**\r\n * Created by Andy on 2017/11/4.\r\n */\n\n/* harmony default export */ var heartBeat = (function (socket, data) {\n  setTimeout(function () {\n    emitter(0x00, {\n      fin: "1"\n    }, socket);\n  }, 5 * 60 * 1000); //5分鐘一次心跳\n});\n;\n// EXTERNAL MODULE: ./server/log/main.js\nvar main = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./server/socket/interactive/tasks/userRegister.js\n/**\r\n * Created by Andy on 2017/11/4.\r\n */\n\n\n // 绑定用户信息\n\n/* harmony default export */ var userRegister = (function (socket, data) {\n  socket.uid = data.uid;\n  main["a" /* default */].user(data.uid, `${socket.remoteAddress}:${socket.remotePort}`);\n  let namesMap = socketStorage.getStorage("namesMap");\n  let clients = socketStorage.getStorage("clients");\n\n  if (namesMap.indexOf(data.uid) < 0) {\n    socketStorage.addStorage("namesMap", data.uid);\n    socketStorage.setStorage("clients", data.uid, socket); // 向所有的用户推送用户名\n    // 不过要把包含用户目标的名字去掉\n\n    socketStorage.getStorage("namesMap").forEach(function (item, index) {\n      let curNamesMap = Array.prototype.slice.call(socketStorage.getStorage("namesMap"));\n      curNamesMap.splice(curNamesMap.indexOf(item), 1);\n      let remoteChanelMap = socketStorage.getStorage("remoteChanelMap") || [];\n      let curClients = socketStorage.getStorage("clients"); // 由于前面有操作，在推送之前重新获取\n\n      emitter(0x01, {\n        namesMap: curNamesMap,\n        "regPass": true,\n        clientData: data,\n        remoteChanelMap: remoteChanelMap\n      }, curClients[item]);\n    });\n  } else {\n    emitter(0x01, {\n      namesMap: [],\n      "regPass": false,\n      clientData: data\n    }, socket); //用戶名已經被注冊\n  }\n});\n;\n// CONCATENATED MODULE: ./server/socket/interactive/tasks/connectAsk.js\n/**\r\n * Created by Andy on 2017/11/4.\r\n */\n\n // 远程链接询问，把询问信息推给协助者\n\n/* harmony default export */ var connectAsk = (function (socket, data) {\n  let clients = socketStorage.getStorage("clients");\n  let helper = clients[data.remoteUid.helperUid];\n  emitter(0x02, {\n    uiHref: data.items.uiHref,\n    remoteUid: {\n      askerUid: data.remoteUid.askerUid,\n      helperUid: data.remoteUid.helperUid\n    }\n  }, helper);\n});\n;\n// CONCATENATED MODULE: ./server/socket/interactive/tasks/connectAccept.js\n/**\r\n * Created by Andy on 2017/11/4.\r\n */\n\n\n/* harmony default export */ var connectAccept = (function (socket, data) {\n  let namesMap = socketStorage.getStorage("namesMap");\n  let clients = socketStorage.getStorage("clients");\n  let askerUid = data.remoteUid.askerUid;\n  let helperUid = data.remoteUid.helperUid; // 存储远程业务中的两端，主要用于在用户未注册的时候，一口气把所有通道发给前端，让前端自己处理\n\n  socketStorage.addStorage("remoteChanelMap", {\n    "askerUid": askerUid,\n    "helperUid": helperUid\n  }); // 通知所有的用户哪两个用户正在进行远程业务\n\n  namesMap.forEach(function (item) {\n    if (askerUid == item || helperUid == item) return;\n    emitter(0x06, {\n      remoteChanel: {\n        "askerUid": askerUid,\n        "helperUid": helperUid\n      }\n    }, clients[item]);\n  });\n  var asker = clients[askerUid];\n  var helper = clients[helperUid]; // 给通讯中的用户派发身份标识 （求助者ID：1，协助者ID：2）\n\n  emitter(0x03, {\n    remoteId: 1,\n    remoteUid: {\n      "askerUid": askerUid,\n      "helperUid": helperUid\n    }\n  }, asker);\n  emitter(0x03, {\n    remoteId: 2,\n    remoteUid: {\n      "askerUid": askerUid,\n      "helperUid": helperUid\n    }\n  }, helper);\n});\n;\n// CONCATENATED MODULE: ./server/socket/interactive/tasks/connectReject.js\n/**\r\n * Created by Andy on 2017/11/4.\r\n */\n\n // 远程链接询问，把询问信息推给协助者\n\n/* harmony default export */ var connectReject = (function (socket, data) {\n  let clients = socketStorage.getStorage("clients");\n  let helper = clients[data.remoteUid.helperUid];\n  emitter(0x02, {\n    uiHref: data.items.uiHref,\n    remoteUid: {\n      askerUid: data.remoteUid.askerUid,\n      helperUid: data.remoteUid.helperUid\n    }\n  }, helper);\n});\n;\n// CONCATENATED MODULE: ./server/socket/interactive/tasks/interActivePassageway.js\n/**\r\n * Created by Andy on 2017/11/4.\r\n */\n\n //远程交互\n\n/* harmony default export */ var interActivePassageway = (function (socket, data) {\n  let clients = socketStorage.getStorage("clients");\n  let asker = clients[data.remoteUid.askerUid];\n  let helper = clients[data.remoteUid.helperUid];\n\n  if (data.remoteId == 1) {// 求助者，接收的只有 点击事件\n    //emitter(0x05, data.items, helper);\n  } else if (data.remoteId == 2) {\n    // 协助者，接收的只有 ajax 数据\n    emitter(0x05, data.items, asker);\n  }\n});\n;\n// CONCATENATED MODULE: ./server/socket/interactive/tasks/charChanel.js\n/**\r\n * Created by Andy on 2018/1/6.\r\n */\n\n // 远程链接询问，把询问信息推给协助者\n\n/* harmony default export */ var charChanel = (function (data) {\n  let toWhom = data.items.oppositeName;\n  let fromWhom = data.items.nativeName;\n  let clients = socketStorage.getStorage("clients");\n  data.items.oppositeName = fromWhom;\n  data.items.nativeName = toWhom;\n  emitter(0x08, data.items, clients[toWhom]); //  emitter(\n  //     0x08,\n  //     {\n  //         oppositeName: fromWhom\n  //       , nativeName: toWhom\n  //     },\n  //     clients[toWhom]\n  // );\n});\n;\n// CONCATENATED MODULE: ./server/socket/interactive/tasks/ajaxDataRegister.js\n/**\r\n * Created by Andy on 2018/1/10.\r\n */\n\n\nlet ajaxDataCache = new Map();\n/* harmony default export */ var ajaxDataRegister = (function (socket, data) {\n  let clients = socketStorage.getStorage("clients");\n  let helperUid = data.remoteUid.helperUid;\n  let askerUid = data.remoteUid.askerUid;\n  let fromUid = data.uid;\n\n  if (askerUid === fromUid) {\n    // 如果数据来自 asker，就存储，如果数据来自helper，就逐帧发送\n    ajaxDataCache.set(data.items.ajaxCallbackId, {\n      json: data.items.json,\n      ajaxCallbackId: data.items.ajaxCallbackId,\n      status: data.items.status\n    });\n  }\n\n  if (helperUid === fromUid) {\n    let doneId = data.items.doneId;\n    sniff(ajaxDataCache, doneId, 5, function () {\n      emitter(0x09, {\n        status: ajaxDataCache.get(doneId).status,\n        json: ajaxDataCache.get(doneId).json,\n        ajaxCallbackId: ajaxDataCache.get(doneId).ajaxCallbackId\n      }, clients[helperUid]); // 发送完毕之后，清理；\n\n      ajaxDataCache.delete(doneId);\n    });\n  }\n});\n\nfunction sniff(ajaxDataCache, doneId, times, callback) {\n  if (times <= 0) {\n    console.log("callbackId 未能及时上传~");\n    return;\n  }\n\n  let promise = new Promise(function (resolve, reject) {\n    setTimeout(function () {\n      let result = ajaxDataCache.get(doneId);\n      result ? resolve(result) : reject(result);\n    }, 500);\n  });\n  promise.then(callback, function () {\n    sniff(ajaxDataCache, doneId, --times, callback);\n  });\n}\n// CONCATENATED MODULE: ./server/socket/interactive/tasks/scrollCoordinate.js\n/**\r\n * Created by Andy on 2018/1/13.\r\n */\n\n\n/* harmony default export */ var scrollCoordinate = (function (socket, data) {\n  let clients = socketStorage.getStorage("clients");\n  let helperUid = data.remoteUid.helperUid;\n  let askerUid = data.remoteUid.askerUid;\n  let fromUid = data.uid;\n\n  if (helperUid === fromUid) {\n    emitter(0x0A, data.items, clients[askerUid]);\n  }\n});\n// CONCATENATED MODULE: ./server/socket/interactive/host.js\n/**\r\n * Created by Andy on 2017/3/14.\r\n */\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ var host = (function (frame, socket) {\n  switch (frame.Opcode) {\n    case 8:\n      var data = frame.PayloadData.slice(2).toString();\n      console.log("会话已经结束:", socket, data);\n      if (socket.uid) disconnectChanel(socket, data);\n      if (socket.uid) reduceUser(socket, data);\n      socket.end();\n      socket.destroy(); //删除断线的session，\n\n      break;\n\n    default:\n      socketStorage.setStorage("opcode", frame.Opcode);\n      var data = JSON.parse(frame.PayloadData.toString()) || "";\n\n      switch (data.port) {\n        case 0x00:\n          heartBeat(socket, data);\n          break;\n\n        case 0x01:\n          //返回一個pass信號，並存儲用戶數據\n          userRegister(socket, data);\n          break;\n\n        case 0x02:\n          //协助通道的询问\n          connectAsk(socket, data);\n          break;\n\n        case 0x03:\n          //协助通道的应答\n          connectAccept(socket, data);\n          break;\n\n        case 0x04:\n          connectReject(socket, data);\n          break;\n\n        case 0x05:\n          //远程协助交互通道\n          interActivePassageway(socket, data);\n          break;\n\n        case 0x06:\n          break;\n\n        case 0x07:\n          break;\n\n        case 0x08:\n          charChanel(data);\n          break;\n\n        case 0x09:\n          //交接callbackID\n          ajaxDataRegister(socket, data);\n          break;\n\n        case 0x0A:\n          //交接scroll坐标\n          scrollCoordinate(socket, data);\n          break;\n\n        case 0xFE:\n          disconnectChanel(socket, data);\n          break;\n\n        case 0xFF:\n          //断开协助通道//关闭ws\n          //that.close(data);\n          //console.log("中断远程用户");\n          break;\n\n        default:\n          break;\n      }\n\n      break;\n  }\n});\n;\n// EXTERNAL MODULE: external "crypto"\nvar external_crypto_ = __webpack_require__(7);\nvar external_crypto_default = /*#__PURE__*/__webpack_require__.n(external_crypto_);\n\n// CONCATENATED MODULE: ./server/socket/init/shakehand/shakehand.js\n/**\r\n * Created by Andy on 2017/11/6.\r\n */\n\n\nconst mask = "258EAFA5-E914-47DA-95CA-C5AB0DC85B11"; //单个用户的握手实例;\n\n/* harmony default export */ var shakehand = (function (e, socket) {\n  let original = e.toString().match(/Sec-WebSocket-Key: (.+)/)[1];\n  let key = external_crypto_default.a.createHash("sha1").update(original + mask).digest("base64");\n  socket.write("HTTP/1.1 101 Switching Protocols\\r\\n");\n  socket.write("Upgrade:Websocket\\r\\n");\n  socket.write("Connection:Upgrade\\r\\n");\n  socket.write("Sec-WebSocket-Accept:" + key + "\\r\\n");\n  socket.write("\\r\\n");\n});\n// CONCATENATED MODULE: ./server/socket/init/open/open.js\n\n\n\n\n/* harmony default export */ var open_open = __webpack_exports__["a"] = (function (port) {\n  let netServer = __webpack_require__(10).createServer(function (socket) {\n    socket.on(\'error\', function (e) {\n      main["a" /* default */].error(e);\n    });\n    socket.on(\'data\', function (e) {\n      let frame = tool_exports.frameDecode(e); //第一次握手\n\n      if (frame.FIN === 0) {\n        console.log("握手");\n        shakehand(e, socket);\n      } //数据交互\n      else {\n          host(frame, socket);\n        }\n    });\n  }).listen(port, () => {});\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NlcnZlci9zb2NrZXQvc2VydmljZXMvdG9vbC9wYXlsb2FkLmNvbXBpbGVyL2ZyYW1lRW5jb2RlLmpzPzIxNTMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL3NvY2tldC9zZXJ2aWNlcy90b29sL3BheWxvYWQuY29tcGlsZXIvZnJhbWVEZWNvZGUuanM/NWYxZiIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvc29ja2V0L3NlcnZpY2VzL3Rvb2wvZXhwb3J0cy5qcz80ZGJiIiwid2VicGFjazovLy8uL3B1YmxpYy9wbHVnaW4vU3RvcmFnZVJlZ2lzdGVyL1N0b3JhZ2VSZWdpc3Rlci5qcz9mMjAzIiwid2VicGFjazovLy8uL3NlcnZlci9zb2NrZXQvc2VydmljZXMvc29ja2V0LnN0b3JhZ2Uvc29ja2V0U3RvcmFnZS5qcz9kYTFjIiwid2VicGFjazovLy8uL3NlcnZlci9zb2NrZXQvZW1pdHRlci9lbWl0dGVyLmpzPzhkOGUiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL3NvY2tldC9pbnRlcmFjdGl2ZS90YXNrcy9kaXNjb25uZWN0Q2hhbmVsLmpzPzI2YjYiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL3NvY2tldC9pbnRlcmFjdGl2ZS90YXNrcy9yZWR1Y2VVc2VyLmpzP2I5MzUiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL3NvY2tldC9pbnRlcmFjdGl2ZS90YXNrcy9oZWFydEJlYXQuanM/YmY1NCIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvc29ja2V0L2ludGVyYWN0aXZlL3Rhc2tzL3VzZXJSZWdpc3Rlci5qcz82MzRjIiwid2VicGFjazovLy8uL3NlcnZlci9zb2NrZXQvaW50ZXJhY3RpdmUvdGFza3MvY29ubmVjdEFzay5qcz9hNmU0Iiwid2VicGFjazovLy8uL3NlcnZlci9zb2NrZXQvaW50ZXJhY3RpdmUvdGFza3MvY29ubmVjdEFjY2VwdC5qcz85M2YxIiwid2VicGFjazovLy8uL3NlcnZlci9zb2NrZXQvaW50ZXJhY3RpdmUvdGFza3MvY29ubmVjdFJlamVjdC5qcz9iOTkzIiwid2VicGFjazovLy8uL3NlcnZlci9zb2NrZXQvaW50ZXJhY3RpdmUvdGFza3MvaW50ZXJBY3RpdmVQYXNzYWdld2F5LmpzPzFmNDQiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL3NvY2tldC9pbnRlcmFjdGl2ZS90YXNrcy9jaGFyQ2hhbmVsLmpzP2JiOWIiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL3NvY2tldC9pbnRlcmFjdGl2ZS90YXNrcy9hamF4RGF0YVJlZ2lzdGVyLmpzPzU0ODYiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL3NvY2tldC9pbnRlcmFjdGl2ZS90YXNrcy9zY3JvbGxDb29yZGluYXRlLmpzPzY0ZDUiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL3NvY2tldC9pbnRlcmFjdGl2ZS9ob3N0LmpzP2FlNGIiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL3NvY2tldC9pbml0L3NoYWtlaGFuZC9zaGFrZWhhbmQuanM/ZTNiOSIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvc29ja2V0L2luaXQvb3Blbi9vcGVuLmpzPzdhNzAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keSBvbiAyMDE3LzExLzQuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoZSkge1xyXG4gICAgdmFyIHMgPSBbXSwgbyA9IG5ldyBCdWZmZXIoZS5QYXlsb2FkRGF0YSksIGwgPSBvLmxlbmd0aDtcclxuICAgIC8v6L6T5YWl56ys5LiA5Liq5a2X6IqCXHJcbiAgICBzLnB1c2goKGUuRklOIDw8IDcpICsgZS5PcGNvZGUpO1xyXG5cclxuICAgIC8v6L6T5YWl56ys5LqM5Liq5a2X6IqC77yM5Yik5pat5a6D55qE6ZW/5bqm5bm25pS+5YWl55u45bqU55qE5ZCO57ut6ZW/5bqm5raI5oGvXHJcbiAgICAvL+awuOi/nOS4jeS9v+eUqOaOqeeggVxyXG4gICAgaWYgKGwgPCAxMjYpIHtcclxuICAgICAgICBzLnB1c2gobCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChsIDwgMHgxMDAwMCkge1xyXG4gICAgICAgIHMucHVzaCgxMjYsIChsICYgMHhGRjAwKSA+PiA4LCBsICYgMHhGRik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLzjlrZfoioLmlbDmja7vvIzliY005a2X6IqC5LiA6Iis5rKh55So55WZ56m6O1xyXG5cclxuICAgICAgICBzLnB1c2goMTI3LCAwLCAwLCAwLCAwLCAobCAmIDB4RkYwMDAwMDApID4+IDI0LCAobCAmIDB4RkYwMDAwKSA+PiAxNiwgKGwgJiAweEZGMDApID4+IDgsIGwgJiAweEZGKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+i/lOWbnuWktOmDqOWIhuWSjOaVsOaNrumDqOWIhueahOWQiOW5tue8k+WGsuWMulxyXG4gICAgcmV0dXJuIEJ1ZmZlci5jb25jYXQoW25ldyBCdWZmZXIocyksIG9dKTtcclxufSIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFuZHkgb24gMjAxNy8xMS80LlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGUpIHtcclxuICAgIGxldCBpID0gMCwgaiwgcywgZnJhbWUgPSB7XHJcbiAgICAgICAgLy/op6PmnpDliY3kuKTkuKrlrZfoioLnmoTln7rmnKzmlbDmja5cclxuICAgICAgICBGSU46IGVbaV0gPj4gNywgT3Bjb2RlOiBlW2krK10gJiAxNSwgTWFzazogZVtpXSA+PiA3LFxyXG4gICAgICAgIFBheWxvYWRMZW5ndGg6IGVbaSsrXSAmIDB4N0ZcclxuICAgIH07XHJcblxyXG4gICAgaWYgKGZyYW1lLlBheWxvYWRMZW5ndGggPT0gMTI2KSB7ICAgLy/lpITnkIbnibnmrorplb/luqYxMjblkowxMjdcclxuICAgICAgICBmcmFtZS5QYXlsb2FkTGVuZ3RoID0gKGVbaSsrXSA8PCA4KSArIGVbaSsrXTtcclxuICAgIH1cclxuICAgIGlmIChmcmFtZS5QYXlsb2FkTGVuZ3RoID09IDEyNykge1xyXG4gICAgICAgIGkgKz0gNDsgLy/plb/luqbkuIDoiKznlKjlm5vlrZfoioLnmoTmlbTlnovvvIzliY3lm5vkuKrlrZfoioLpgJrluLjkuLrplb/mlbTlvaLnlZnnqbrnmoRcclxuICAgICAgICBmcmFtZS5QYXlsb2FkTGVuZ3RoID0gKGVbaSsrXSA8PCAyNCkgKyAoZVtpKytdIDw8IDE2KSArIChlW2krK10gPDwgOCkgKyBlW2krK107XHJcbiAgICB9XHJcbiAgICBpZiAoZnJhbWUuTWFzaykgey8v5Yik5pat5piv5ZCm5L2/55So5o6p56CBXHJcbiAgICAgICAgLy/ojrflj5bmjqnnoIHlrp7kvZNcclxuICAgICAgICBmcmFtZS5NYXNraW5nS2V5ID0gW2VbaSsrXSwgZVtpKytdLCBlW2krK10sIGVbaSsrXV07XHJcbiAgICAgICAgLy/lr7nmlbDmja7lkozmjqnnoIHlgZrlvILmiJbov5DnrpdcclxuICAgICAgICBmb3IgKGogPSAwLCBzID0gW107IGogPCBmcmFtZS5QYXlsb2FkTGVuZ3RoOyBqKyspXHJcbiAgICAgICAgICAgIHMucHVzaChlW2kgKyBqXSBeIGZyYW1lLk1hc2tpbmdLZXlbaiAlIDRdKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHMgPSBlLnNsaWNlKGksIGZyYW1lLlBheWxvYWRMZW5ndGgpOy8v5ZCm5YiZ55u05o6l5L2/55So5pWw5o2uXHJcbiAgICB9XHJcbiAgICAvL+aVsOe7hOi9rOaNouaIkOe8k+WGsuWMuuadpeS9v+eUqFxyXG4gICAgcyA9IG5ldyBCdWZmZXIocyk7XHJcbiAgICAvL+WmguaenOacieW/heimgeWImeaKiue8k+WGsuWMuui9rOaNouaIkOWtl+espuS4suadpeS9v+eUqFxyXG4gICAgaWYgKGZyYW1lLk9wY29kZSA9PSAxKSB7XHJcbiAgICAgICAgcyA9IHMudG9TdHJpbmcoKTtcclxuICAgIH1cclxuICAgIC8v6K6+572u5LiK5pWw5o2u6YOo5YiGXHJcbiAgICBmcmFtZS5QYXlsb2FkRGF0YSA9IHM7XHJcbiAgICAvL+i/lOWbnuaVsOaNruW4p1xyXG4gICAgcmV0dXJuIGZyYW1lO1xyXG59IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keSBvbiAyMDE3LzMvMTQuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcclxuaW1wb3J0IGZyYW1lRW5jb2RlIGZyb20gXCIuL3BheWxvYWQuY29tcGlsZXIvZnJhbWVFbmNvZGVcIjtcclxuaW1wb3J0IGZyYW1lRGVjb2RlIGZyb20gXCIuL3BheWxvYWQuY29tcGlsZXIvZnJhbWVEZWNvZGVcIjtcclxuXHJcbmZ1bmN0aW9uIGFkZCh0YXJnZXQsIG5hbWUsIGZpbGUpIHtcclxuICAgIHRhcmdldC5wcm90b3R5cGVbbmFtZV0gPSBmaWxlO1xyXG59XHJcbi8vQGFkZChUb29sLFwiZnJhbWVFbmNvZGVcIiwgZnJhbWVFbmNvZGUpO1xyXG4vL0BhZGQoVG9vbCxcImZyYW1lRGVjb2RlXCIsIGZyYW1lRGVjb2RlKTtcclxuY2xhc3MgVG9vbCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBcclxuICAgIH1cclxufVxyXG5cclxuYWRkKFRvb2wsIFwiZnJhbWVFbmNvZGVcIiwgZnJhbWVFbmNvZGUpO1xyXG5hZGQoVG9vbCwgXCJmcmFtZURlY29kZVwiLCBmcmFtZURlY29kZSk7XHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBUb29sKCk7XHJcblxyXG5cclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keSBvbiAyMDE3LzExLzkuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvcmFnZVJlZ2lzdGVyIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpbmplY3QgPSB7fSkge1xyXG4gICAgICAgIHRoaXMuc3RvcmFnZSA9IGluamVjdDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTdG9yYWdlKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdG9yYWdlW25hbWVdO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFN0b3JhZ2UoaXRlbU5hbWUsIGlubmVyUHJvcCwgdmFsKSB7XHJcbiAgICAgICAvKiBpZiAodGhpcy5zdG9yYWdlW2l0ZW1OYW1lXSBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgIHZhbCA9IHByb3A7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZVtpdGVtTmFtZV0ucHVzaCh2YWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlICovaWYodmFsID09PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICB2YWwgPSBpbm5lclByb3A7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZVtpdGVtTmFtZV0gPSB2YWw7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZVtpdGVtTmFtZV1baW5uZXJQcm9wXSA9IHZhbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFN0b3JhZ2UoaXRlbU5hbWUsIHZhbCl7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RvcmFnZVtpdGVtTmFtZV0gaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2VbaXRlbU5hbWVdLnB1c2godmFsKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidGhpcyBzdG9yYWdlIGlzbid0IGEgQXJyYXkhXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIGRlbFN0b3JhZ2UobmFtZSwgdmFsKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RvcmFnZVtuYW1lXSBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IHZhbDtcclxuICAgICAgICAgICAgdGhpcy5zdG9yYWdlW25hbWVdLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5zdG9yYWdlW25hbWVdW3ZhbF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB2ZXJzaW9uKCl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ2MS4wXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhdXRob3IoKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIuaIkeS4jXRlbGwgeW91flwiKTtcclxuICAgIH1cclxufSIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFuZHkgb24gMjAxNy8xMS83LlxyXG4gKi9cclxuaW1wb3J0IFN0b3JhZ2VSZWdpc3RlciBmcm9tIFwiU3RvcmFnZVJlZ2lzdGVyXCI7XHJcbmxldCBzdG9yYWdlID0ge1xyXG4gICAgY2xpZW50czoge30sXHJcbiAgICBuYW1lc01hcDogW10sXHJcbiAgICByZW1vdGVDaGFuZWxNYXA6IFtdLFxyXG4gICAgb3Bjb2RlOiAwXHJcbn07XHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBTdG9yYWdlUmVnaXN0ZXIoc3RvcmFnZSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFuZHkgb24gMjAxNy8zLzIzLlxyXG4gKi9cclxuXHJcbmltcG9ydCB0b29sIGZyb20gXCIuLi9zZXJ2aWNlcy90b29sL2V4cG9ydHMuanNcIjtcclxuaW1wb3J0IFRSIGZyb20gXCJ3c1NlcnZlci9zZXJ2aWNlcy9zb2NrZXQuc3RvcmFnZS9zb2NrZXRTdG9yYWdlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoc3RhdHVzLCBlbWl0RGF0YSwgc29ja2V0KSB7XHJcblxyXG4gICAgbGV0IG9wY29kZSA9IFRSLmdldFN0b3JhZ2UoXCJvcGNvZGVcIik7XHJcblxyXG4gICAgbGV0IGVtaXRQcm90b2NvbE1hcCA9IHtcclxuICAgICAgICBcInN0YXR1c1wiOiBzdGF0dXMsXHJcbiAgICAgICAgXCJzZXJ2ZXJEYXRhXCI6IGVtaXREYXRhLFxyXG5cclxuICAgICAgICAvLyDosIHlj5HkuIrmnaXnmoTmlbDmja7vvIzlsLHov5Tlm57nu5nosIHvvIzlhbbku5bnlKjmiLfkuIDlvovov5Tlm55udWxsXHJcbiAgICAgICAgXCJjbGllbnREYXRhXCI6IGVtaXREYXRhLmNsaWVudERhdGEgJiYgZW1pdERhdGEuY2xpZW50RGF0YS51aWQgPT09IHNvY2tldC51aWQgPyBlbWl0RGF0YS5jbGllbnREYXRhIDogbnVsbFxyXG4gICAgfTtcclxuICAgIGNvbnNvbGUubG9nKFwiZW1pdFByb3RvY29sTWFwOlwiLCBlbWl0UHJvdG9jb2xNYXApO1xyXG4gICAgbGV0IFBheWxvYWREYXRhID0gb3Bjb2RlID09IDEgPyBKU09OLnN0cmluZ2lmeShlbWl0UHJvdG9jb2xNYXApIDogbmV3IEJ1ZmZlcihKU09OLnN0cmluZ2lmeShlbWl0UHJvdG9jb2xNYXApKTtcclxuXHJcbiAgICBpZihzb2NrZXQudWlkICYmIHNvY2tldC53cml0YWJsZSlcclxuICAgICAgICBzb2NrZXQud3JpdGUoXHJcbiAgICAgICAgICAgIHRvb2wuZnJhbWVFbmNvZGUoe1xyXG4gICAgICAgICAgICAgICAgRklOOiAxLFxyXG4gICAgICAgICAgICAgICAgT3Bjb2RlOiBvcGNvZGUsXHJcbiAgICAgICAgICAgICAgICBQYXlsb2FkRGF0YTogUGF5bG9hZERhdGFcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG59IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keSBvbiAyMDE3LzExLzQuXHJcbiAqL1xyXG5cclxuaW1wb3J0IFRSIGZyb20gXCJ3c1NlcnZlci9zZXJ2aWNlcy9zb2NrZXQuc3RvcmFnZS9zb2NrZXRTdG9yYWdlXCI7XHJcbmltcG9ydCBlbWl0dGVyIGZyb20gXCIuLi8uLi9lbWl0dGVyL2VtaXR0ZXIuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChzb2NrZXQsIGRhdGEpIHtcclxuICAgIGxldCBmcm9tVWlkID0gc29ja2V0LnVpZDtcclxuICAgIGxldCBjbGllbnRzID0gVFIuZ2V0U3RvcmFnZShcImNsaWVudHNcIik7XHJcbiAgICBsZXQgbmFtZXNNYXAgPSBUUi5nZXRTdG9yYWdlKFwibmFtZXNNYXBcIik7XHJcbiAgICBsZXQgcmVtb3RlQ2hhbmVsTWFwID0gVFIuZ2V0U3RvcmFnZShcInJlbW90ZUNoYW5lbE1hcFwiKSB8fCBbXTtcclxuICAgIGxldCBhc2tlclVpZCA9IG51bGw7XHJcbiAgICBsZXQgaGVscGVyVWlkID0gbnVsbDtcclxuXHJcbiAgICAvLyDmjpLmn6Xmlq3lvIDnmoTnlKjmiLfvvIzmo4Dmn6XmmK/lkKbkuI7lhbbku5bnlKjmiLfmnInpgJrorq9cclxuICAgIC8vIOWIoOmZpOmFjeWvuemAmumBk++8jOW5tuWRiuefpemAmuS/oeeahOWPpuS4gOerr1xyXG4gICAgcmVtb3RlQ2hhbmVsTWFwLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgICAgaWYgKGl0ZW0uYXNrZXJVaWQgPT0gZnJvbVVpZCB8fCBpdGVtLmhlbHBlclVpZCA9PSBmcm9tVWlkKSB7XHJcblxyXG4gICAgICAgICAgICBhc2tlclVpZCA9IGl0ZW0uYXNrZXJVaWQ7XHJcbiAgICAgICAgICAgIGhlbHBlclVpZCA9IGl0ZW0uaGVscGVyVWlkO1xyXG4gICAgICAgICAgICBlbWl0dGVyKFxyXG4gICAgICAgICAgICAgICAgMHhGRixcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdGVJZDowLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZUNoYW5lbE1hcDogVFIuZGVsU3RvcmFnZShcInJlbW90ZUNoYW5lbE1hcFwiLCBpbmRleCkuZ2V0U3RvcmFnZShcInJlbW90ZUNoYW5lbE1hcFwiKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNsaWVudHNbKGFza2VyVWlkID09IGZyb21VaWQgPyBoZWxwZXJVaWQgOiBhc2tlclVpZCldXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8vIOWPpuihjOmAmuefpeWFtuS7luaJgOacieeahOeUqOaItyDlk6rkuKTkuKrnlKjmiLfnu5PmnZ/ov5znqIvkuJrliqFcclxuICAgIC8vIOino+mZpOeUqOaIt+WIl+ihqOS4rVwiYnVzaW5nXCLnirbmgIHvvIzkvb/lhbblj6/ku6XooqvpgInlj5ZcclxuICAgIG5hbWVzTWFwLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICBpZiAoYXNrZXJVaWQgPT0gaXRlbSB8fCBoZWxwZXJVaWQgPT0gaXRlbSlyZXR1cm47XHJcbiAgICAgICAgZW1pdHRlcigweDA3LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZW1vdGVDaGFuZWxNYXA6IFRSLmdldFN0b3JhZ2UoXCJyZW1vdGVDaGFuZWxNYXBcIilcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2xpZW50c1tpdGVtXVxyXG4gICAgICAgICk7XHJcbiAgICB9KTtcclxufTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBBbmR5IG9uIDIwMTcvMTEvNC5cclxuICovXHJcblxyXG5pbXBvcnQgVFIgZnJvbSBcIndzU2VydmVyL3NlcnZpY2VzL3NvY2tldC5zdG9yYWdlL3NvY2tldFN0b3JhZ2VcIjtcclxuaW1wb3J0IGVtaXR0ZXIgZnJvbSBcIi4uLy4uL2VtaXR0ZXIvZW1pdHRlci5qc1wiO1xyXG5cclxuLy/pgJrnn6XliY3nq6/liKDpmaTmlq3lvIDnmoTnlKjmiLdcclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHNvY2tldCkge1xyXG5cclxuICAgIGxldCBuYW1lc01hcCA9IFRSLmdldFN0b3JhZ2UoXCJuYW1lc01hcFwiKTtcclxuICAgIGxldCBjbGllbnRzID0gVFIuZ2V0U3RvcmFnZShcImNsaWVudHNcIik7XHJcbiAgICBsZXQgZGVhZFVpZCA9IHNvY2tldC51aWQ7XHJcblxyXG4gICAgaWYgKGRlYWRVaWQpIHtcclxuXHJcbiAgICAgICAgLy/liKDpmaTmlq3nur/nmoTkvJror53vvIxcclxuICAgICAgICBUUi5kZWxTdG9yYWdlKFwiY2xpZW50c1wiLGRlYWRVaWQpO1xyXG5cclxuICAgICAgICAvL+WIoOmZpOaWree6v+eahOeUqOaIt+WQje+8jFxyXG4gICAgICAgIGxldCBpbmRleCA9IG5hbWVzTWFwLmluZGV4T2YoZGVhZFVpZCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLliKDpmaTkuobnlKjmiLfvvJpcIixuYW1lc01hcFtpbmRleF0pO1xyXG4gICAgICAgIFRSLmRlbFN0b3JhZ2UoXCJuYW1lc01hcFwiLGluZGV4KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIuWIoOmZpOS5i+WQjuWJqeS9meeahOeUqOaIt++8mlwiLFRSLmdldFN0b3JhZ2UoXCJuYW1lc01hcFwiKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/liLfmlrDnlKjmiLfliJfooajliLDlrqLmiLfnq69cclxuICAgIFRSLmdldFN0b3JhZ2UoXCJuYW1lc01hcFwiKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xyXG4gICAgICAgIGxldCBjbGllbnRzID0gVFIuZ2V0U3RvcmFnZShcImNsaWVudHNcIik7XHJcbiAgICAgICAgZW1pdHRlcigweEZFLCB7ZGVhZFVpZDogc29ja2V0LnVpZH0sIGNsaWVudHNbaXRlbV0pO1xyXG4gICAgfSk7XHJcblxyXG59OyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFuZHkgb24gMjAxNy8xMS80LlxyXG4gKi9cclxuXHJcbmltcG9ydCBlbWl0dGVyIGZyb20gXCIuLi8uLi9lbWl0dGVyL2VtaXR0ZXIuanNcIjtcclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHNvY2tldCwgZGF0YSkge1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgIGVtaXR0ZXIoMHgwMCwge2ZpbjpcIjFcIn0sIHNvY2tldCk7XHJcbiAgICB9LDUgKiA2MCAqMTAwMCk7IC8vNeWIhumQmOS4gOasoeW/g+i3s1xyXG59OyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFuZHkgb24gMjAxNy8xMS80LlxyXG4gKi9cclxuXHJcbmltcG9ydCBUUiBmcm9tIFwid3NTZXJ2ZXIvc2VydmljZXMvc29ja2V0LnN0b3JhZ2Uvc29ja2V0U3RvcmFnZVwiO1xyXG5pbXBvcnQgZW1pdHRlciBmcm9tIFwiLi4vLi4vZW1pdHRlci9lbWl0dGVyLmpzXCI7XHJcbmltcG9ydCBsb2cgZnJvbSBcImxvZ1wiO1xyXG4vLyDnu5HlrprnlKjmiLfkv6Hmga9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHNvY2tldCwgZGF0YSkge1xyXG4gICAgc29ja2V0LnVpZCA9IGRhdGEudWlkO1xyXG4gICAgbG9nLnVzZXIoZGF0YS51aWQsIGAke3NvY2tldC5yZW1vdGVBZGRyZXNzfToke3NvY2tldC5yZW1vdGVQb3J0fWApO1xyXG4gICAgbGV0IG5hbWVzTWFwID0gVFIuZ2V0U3RvcmFnZShcIm5hbWVzTWFwXCIpO1xyXG4gICAgbGV0IGNsaWVudHMgPSBUUi5nZXRTdG9yYWdlKFwiY2xpZW50c1wiKTtcclxuXHJcbiAgICBpZiAobmFtZXNNYXAuaW5kZXhPZihkYXRhLnVpZCkgPCAwKSB7XHJcbiAgICAgICAgVFIuYWRkU3RvcmFnZShcIm5hbWVzTWFwXCIsIGRhdGEudWlkKTtcclxuICAgICAgICBUUi5zZXRTdG9yYWdlKFwiY2xpZW50c1wiLCBkYXRhLnVpZCwgc29ja2V0KTtcclxuXHJcbiAgICAgICAgLy8g5ZCR5omA5pyJ55qE55So5oi35o6o6YCB55So5oi35ZCNXHJcbiAgICAgICAgLy8g5LiN6L+H6KaB5oqK5YyF5ZCr55So5oi355uu5qCH55qE5ZCN5a2X5Y675o6JXHJcbiAgICAgICAgVFIuZ2V0U3RvcmFnZShcIm5hbWVzTWFwXCIpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgICAgICAgIGxldCBjdXJOYW1lc01hcCA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFRSLmdldFN0b3JhZ2UoXCJuYW1lc01hcFwiKSk7XHJcbiAgICAgICAgICAgIGN1ck5hbWVzTWFwLnNwbGljZShjdXJOYW1lc01hcC5pbmRleE9mKGl0ZW0pLCAxKTtcclxuICAgICAgICAgICAgbGV0IHJlbW90ZUNoYW5lbE1hcCA9IFRSLmdldFN0b3JhZ2UoXCJyZW1vdGVDaGFuZWxNYXBcIikgfHwgW107XHJcbiAgICAgICAgICAgIGxldCBjdXJDbGllbnRzID0gVFIuZ2V0U3RvcmFnZShcImNsaWVudHNcIik7IC8vIOeUseS6juWJjemdouacieaTjeS9nO+8jOWcqOaOqOmAgeS5i+WJjemHjeaWsOiOt+WPllxyXG4gICAgICAgICAgICBlbWl0dGVyKDB4MDEsIHtuYW1lc01hcDogY3VyTmFtZXNNYXAsIFwicmVnUGFzc1wiOiB0cnVlLCBjbGllbnREYXRhOiBkYXRhLCByZW1vdGVDaGFuZWxNYXA6cmVtb3RlQ2hhbmVsTWFwfSwgY3VyQ2xpZW50c1tpdGVtXSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgZW1pdHRlcigweDAxLCB7bmFtZXNNYXA6IFtdLCBcInJlZ1Bhc3NcIjogZmFsc2UsIGNsaWVudERhdGE6IGRhdGF9LCBzb2NrZXQpOyAgICAvL+eUqOaItuWQjeW3sue2k+iiq+azqOWGilxyXG4gICAgfVxyXG59OyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFuZHkgb24gMjAxNy8xMS80LlxyXG4gKi9cclxuXHJcbmltcG9ydCBUUiBmcm9tIFwid3NTZXJ2ZXIvc2VydmljZXMvc29ja2V0LnN0b3JhZ2Uvc29ja2V0U3RvcmFnZVwiO1xyXG5pbXBvcnQgZW1pdHRlciBmcm9tIFwiLi4vLi4vZW1pdHRlci9lbWl0dGVyLmpzXCI7XHJcblxyXG4vLyDov5znqIvpk77mjqXor6Lpl67vvIzmioror6Lpl67kv6Hmga/mjqjnu5nljY/liqnogIVcclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHNvY2tldCwgZGF0YSkge1xyXG4gICAgbGV0IGNsaWVudHMgPSBUUi5nZXRTdG9yYWdlKFwiY2xpZW50c1wiKTtcclxuICAgIGxldCBoZWxwZXIgPSBjbGllbnRzW2RhdGEucmVtb3RlVWlkLmhlbHBlclVpZF07XHJcbiAgICBlbWl0dGVyKFxyXG4gICAgICAgIDB4MDIsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB1aUhyZWY6ZGF0YS5pdGVtcy51aUhyZWYsXHJcbiAgICAgICAgICAgIHJlbW90ZVVpZDoge1xyXG4gICAgICAgICAgICAgICAgYXNrZXJVaWQ6IGRhdGEucmVtb3RlVWlkLmFza2VyVWlkLFxyXG4gICAgICAgICAgICAgICAgaGVscGVyVWlkOiBkYXRhLnJlbW90ZVVpZC5oZWxwZXJVaWRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaGVscGVyXHJcbiAgICApO1xyXG59O1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBBbmR5IG9uIDIwMTcvMTEvNC5cclxuICovXHJcbmltcG9ydCBUUiBmcm9tIFwid3NTZXJ2ZXIvc2VydmljZXMvc29ja2V0LnN0b3JhZ2Uvc29ja2V0U3RvcmFnZVwiO1xyXG5pbXBvcnQgZW1pdHRlciBmcm9tIFwiLi4vLi4vZW1pdHRlci9lbWl0dGVyLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoc29ja2V0LCBkYXRhKSB7XHJcblxyXG4gICAgbGV0IG5hbWVzTWFwID0gVFIuZ2V0U3RvcmFnZShcIm5hbWVzTWFwXCIpO1xyXG4gICAgbGV0IGNsaWVudHMgPSBUUi5nZXRTdG9yYWdlKFwiY2xpZW50c1wiKTtcclxuXHJcbiAgICBsZXQgYXNrZXJVaWQgPSBkYXRhLnJlbW90ZVVpZC5hc2tlclVpZDtcclxuICAgIGxldCBoZWxwZXJVaWQgPSBkYXRhLnJlbW90ZVVpZC5oZWxwZXJVaWQ7XHJcblxyXG4gICAgLy8g5a2Y5YKo6L+c56iL5Lia5Yqh5Lit55qE5Lik56uv77yM5Li76KaB55So5LqO5Zyo55So5oi35pyq5rOo5YaM55qE5pe25YCZ77yM5LiA5Y+j5rCU5oqK5omA5pyJ6YCa6YGT5Y+R57uZ5YmN56uv77yM6K6p5YmN56uv6Ieq5bex5aSE55CGXHJcbiAgICBUUi5hZGRTdG9yYWdlKFwicmVtb3RlQ2hhbmVsTWFwXCIse1wiYXNrZXJVaWRcIjogYXNrZXJVaWQsIFwiaGVscGVyVWlkXCI6IGhlbHBlclVpZH0pO1xyXG5cclxuICAgIC8vIOmAmuefpeaJgOacieeahOeUqOaIt+WTquS4pOS4queUqOaIt+ato+WcqOi/m+ihjOi/nOeoi+S4muWKoVxyXG4gICAgbmFtZXNNYXAuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgIGlmIChhc2tlclVpZCA9PSBpdGVtIHx8IGhlbHBlclVpZCA9PSBpdGVtKSByZXR1cm47XHJcbiAgICAgICAgZW1pdHRlcigweDA2LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZW1vdGVDaGFuZWw6ICB7XCJhc2tlclVpZFwiOiBhc2tlclVpZCwgXCJoZWxwZXJVaWRcIjogaGVscGVyVWlkfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjbGllbnRzW2l0ZW1dXHJcbiAgICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBhc2tlciA9IGNsaWVudHNbYXNrZXJVaWRdO1xyXG4gICAgdmFyIGhlbHBlciA9IGNsaWVudHNbaGVscGVyVWlkXTtcclxuXHJcbiAgICAvLyDnu5npgJrorq/kuK3nmoTnlKjmiLfmtL7lj5Houqvku73moIfor4Yg77yI5rGC5Yqp6ICFSUTvvJox77yM5Y2P5Yqp6ICFSUTvvJoy77yJXHJcbiAgICBlbWl0dGVyKDB4MDMsIHtyZW1vdGVJZDogMSxyZW1vdGVVaWQ6IHtcclxuICAgICAgICBcImFza2VyVWlkXCI6IGFza2VyVWlkLFxyXG4gICAgICAgIFwiaGVscGVyVWlkXCI6IGhlbHBlclVpZFxyXG4gICAgfX0sIGFza2VyKTtcclxuXHJcbiAgICBlbWl0dGVyKDB4MDMsIHtyZW1vdGVJZDogMixyZW1vdGVVaWQ6IHtcclxuICAgICAgICBcImFza2VyVWlkXCI6IGFza2VyVWlkLFxyXG4gICAgICAgIFwiaGVscGVyVWlkXCI6IGhlbHBlclVpZFxyXG4gICAgfX0sIGhlbHBlcik7XHJcbn07IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keSBvbiAyMDE3LzExLzQuXHJcbiAqL1xyXG5cclxuaW1wb3J0IFRSIGZyb20gXCJ3c1NlcnZlci9zZXJ2aWNlcy9zb2NrZXQuc3RvcmFnZS9zb2NrZXRTdG9yYWdlXCI7XHJcbmltcG9ydCBlbWl0dGVyIGZyb20gXCIuLi8uLi9lbWl0dGVyL2VtaXR0ZXIuanNcIjtcclxuXHJcbi8vIOi/nOeoi+mTvuaOpeivoumXru+8jOaKiuivoumXruS/oeaBr+aOqOe7meWNj+WKqeiAhVxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoc29ja2V0LCBkYXRhKSB7XHJcbiAgICBsZXQgY2xpZW50cyA9IFRSLmdldFN0b3JhZ2UoXCJjbGllbnRzXCIpO1xyXG4gICAgbGV0IGhlbHBlciA9IGNsaWVudHNbZGF0YS5yZW1vdGVVaWQuaGVscGVyVWlkXTtcclxuICAgIGVtaXR0ZXIoXHJcbiAgICAgICAgMHgwMixcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHVpSHJlZjpkYXRhLml0ZW1zLnVpSHJlZixcclxuICAgICAgICAgICAgcmVtb3RlVWlkOiB7XHJcbiAgICAgICAgICAgICAgICBhc2tlclVpZDogZGF0YS5yZW1vdGVVaWQuYXNrZXJVaWQsXHJcbiAgICAgICAgICAgICAgICBoZWxwZXJVaWQ6IGRhdGEucmVtb3RlVWlkLmhlbHBlclVpZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBoZWxwZXJcclxuICAgICk7XHJcbn07XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFuZHkgb24gMjAxNy8xMS80LlxyXG4gKi9cclxuaW1wb3J0IFRSIGZyb20gXCJ3c1NlcnZlci9zZXJ2aWNlcy9zb2NrZXQuc3RvcmFnZS9zb2NrZXRTdG9yYWdlXCI7XHJcbmltcG9ydCBlbWl0dGVyIGZyb20gXCIuLi8uLi9lbWl0dGVyL2VtaXR0ZXIuanNcIjtcclxuXHJcbi8v6L+c56iL5Lqk5LqSXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChzb2NrZXQsIGRhdGEpIHtcclxuXHJcbiAgICBsZXQgY2xpZW50cyA9IFRSLmdldFN0b3JhZ2UoXCJjbGllbnRzXCIpO1xyXG4gICAgbGV0IGFza2VyID0gY2xpZW50c1tkYXRhLnJlbW90ZVVpZC5hc2tlclVpZF07XHJcbiAgICBsZXQgaGVscGVyID0gY2xpZW50c1tkYXRhLnJlbW90ZVVpZC5oZWxwZXJVaWRdO1xyXG5cclxuICAgIGlmIChkYXRhLnJlbW90ZUlkID09IDEpIHtcclxuXHJcbiAgICAgICAgLy8g5rGC5Yqp6ICF77yM5o6l5pS255qE5Y+q5pyJIOeCueWHu+S6i+S7tlxyXG4gICAgICAgIC8vZW1pdHRlcigweDA1LCBkYXRhLml0ZW1zLCBoZWxwZXIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZGF0YS5yZW1vdGVJZCA9PSAyKSB7XHJcblxyXG4gICAgICAgIC8vIOWNj+WKqeiAhe+8jOaOpeaUtueahOWPquaciSBhamF4IOaVsOaNrlxyXG4gICAgICAgIGVtaXR0ZXIoMHgwNSwgZGF0YS5pdGVtcywgYXNrZXIpO1xyXG4gICAgfVxyXG59OyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFuZHkgb24gMjAxOC8xLzYuXHJcbiAqL1xyXG5pbXBvcnQgVFIgZnJvbSBcIndzU2VydmVyL3NlcnZpY2VzL3NvY2tldC5zdG9yYWdlL3NvY2tldFN0b3JhZ2VcIjtcclxuaW1wb3J0IGVtaXR0ZXIgZnJvbSBcIi4uLy4uL2VtaXR0ZXIvZW1pdHRlci5qc1wiO1xyXG5cclxuLy8g6L+c56iL6ZO+5o6l6K+i6Zeu77yM5oqK6K+i6Zeu5L+h5oGv5o6o57uZ5Y2P5Yqp6ICFXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICBsZXQgdG9XaG9tID0gZGF0YS5pdGVtcy5vcHBvc2l0ZU5hbWU7XHJcbiAgICBsZXQgZnJvbVdob20gPSBkYXRhLml0ZW1zLm5hdGl2ZU5hbWU7XHJcbiAgICBsZXQgY2xpZW50cyA9IFRSLmdldFN0b3JhZ2UoXCJjbGllbnRzXCIpO1xyXG4gICAgZGF0YS5pdGVtcy5vcHBvc2l0ZU5hbWUgPSBmcm9tV2hvbTtcclxuICAgIGRhdGEuaXRlbXMubmF0aXZlTmFtZSA9IHRvV2hvbTtcclxuXHJcbiAgICBlbWl0dGVyKFxyXG4gICAgICAgIDB4MDgsXHJcbiAgICAgICAgZGF0YS5pdGVtcyxcclxuICAgICAgICBjbGllbnRzW3RvV2hvbV1cclxuICAgICk7XHJcbiAgICAvLyAgZW1pdHRlcihcclxuICAgIC8vICAgICAweDA4LFxyXG4gICAgLy8gICAgIHtcclxuICAgIC8vICAgICAgICAgb3Bwb3NpdGVOYW1lOiBmcm9tV2hvbVxyXG4gICAgLy8gICAgICAgLCBuYXRpdmVOYW1lOiB0b1dob21cclxuICAgIC8vICAgICB9LFxyXG4gICAgLy8gICAgIGNsaWVudHNbdG9XaG9tXVxyXG4gICAgLy8gKTtcclxufTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keSBvbiAyMDE4LzEvMTAuXHJcbiAqL1xyXG5pbXBvcnQgVFIgZnJvbSBcIndzU2VydmVyL3NlcnZpY2VzL3NvY2tldC5zdG9yYWdlL3NvY2tldFN0b3JhZ2VcIjtcclxuaW1wb3J0IGVtaXR0ZXIgZnJvbSBcIi4uLy4uL2VtaXR0ZXIvZW1pdHRlci5qc1wiO1xyXG5cclxubGV0IGFqYXhEYXRhQ2FjaGUgPSBuZXcgTWFwKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoc29ja2V0LCBkYXRhKSB7XHJcbiAgICBsZXQgY2xpZW50cyA9IFRSLmdldFN0b3JhZ2UoXCJjbGllbnRzXCIpO1xyXG4gICAgbGV0IGhlbHBlclVpZCA9IGRhdGEucmVtb3RlVWlkLmhlbHBlclVpZDtcclxuICAgIGxldCBhc2tlclVpZCA9IGRhdGEucmVtb3RlVWlkLmFza2VyVWlkO1xyXG4gICAgbGV0IGZyb21VaWQgPSBkYXRhLnVpZDtcclxuXHJcblxyXG4gICAgaWYgKGFza2VyVWlkID09PSBmcm9tVWlkKSB7XHJcbiAgICAgICAgLy8g5aaC5p6c5pWw5o2u5p2l6IeqIGFza2Vy77yM5bCx5a2Y5YKo77yM5aaC5p6c5pWw5o2u5p2l6IeqaGVscGVy77yM5bCx6YCQ5bin5Y+R6YCBXHJcbiAgICAgICAgYWpheERhdGFDYWNoZS5zZXQoZGF0YS5pdGVtcy5hamF4Q2FsbGJhY2tJZCwge1xyXG4gICAgICAgICAgICBqc29uOiBkYXRhLml0ZW1zLmpzb24sXHJcbiAgICAgICAgICAgIGFqYXhDYWxsYmFja0lkOiBkYXRhLml0ZW1zLmFqYXhDYWxsYmFja0lkLFxyXG4gICAgICAgICAgICBzdGF0dXM6IGRhdGEuaXRlbXMuc3RhdHVzXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBpZiAoaGVscGVyVWlkID09PSBmcm9tVWlkKSB7XHJcbiAgICAgICAgbGV0IGRvbmVJZCA9IGRhdGEuaXRlbXMuZG9uZUlkO1xyXG4gICAgICAgIHNuaWZmKGFqYXhEYXRhQ2FjaGUsIGRvbmVJZCwgNSwgZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgIGVtaXR0ZXIoMHgwOSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGFqYXhEYXRhQ2FjaGUuZ2V0KGRvbmVJZCkuc3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgIGpzb246IGFqYXhEYXRhQ2FjaGUuZ2V0KGRvbmVJZCkuanNvbixcclxuICAgICAgICAgICAgICAgICAgICBhamF4Q2FsbGJhY2tJZDogYWpheERhdGFDYWNoZS5nZXQoZG9uZUlkKS5hamF4Q2FsbGJhY2tJZFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNsaWVudHNbaGVscGVyVWlkXVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgLy8g5Y+R6YCB5a6M5q+V5LmL5ZCO77yM5riF55CG77ybXHJcbiAgICAgICAgICAgIGFqYXhEYXRhQ2FjaGUuZGVsZXRlKGRvbmVJZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gc25pZmYoYWpheERhdGFDYWNoZSwgZG9uZUlkLCB0aW1lcywgY2FsbGJhY2spIHtcclxuXHJcbiAgICBpZih0aW1lcyA8PSAwKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImNhbGxiYWNrSWQg5pyq6IO95Y+K5pe25LiK5LygflwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBhamF4RGF0YUNhY2hlLmdldChkb25lSWQpO1xyXG4gICAgICAgICAgICByZXN1bHQgPyByZXNvbHZlKHJlc3VsdCkgOiByZWplY3QocmVzdWx0KTtcclxuICAgICAgICB9LCA1MDApXHJcbiAgICB9KTtcclxuXHJcbiAgICBwcm9taXNlLnRoZW4oY2FsbGJhY2ssZnVuY3Rpb24oKXtcclxuICAgICAgICBzbmlmZihhamF4RGF0YUNhY2hlLCBkb25lSWQsIC0tdGltZXMsIGNhbGxiYWNrKVxyXG4gICAgfSlcclxufVxyXG5cclxuXHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFuZHkgb24gMjAxOC8xLzEzLlxyXG4gKi9cclxuaW1wb3J0IFRSIGZyb20gXCJ3c1NlcnZlci9zZXJ2aWNlcy9zb2NrZXQuc3RvcmFnZS9zb2NrZXRTdG9yYWdlXCI7XHJcbmltcG9ydCBlbWl0dGVyIGZyb20gXCIuLi8uLi9lbWl0dGVyL2VtaXR0ZXIuanNcIjtcclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc29ja2V0LCBkYXRhKXtcclxuICAgIGxldCBjbGllbnRzID0gVFIuZ2V0U3RvcmFnZShcImNsaWVudHNcIik7XHJcbiAgICBsZXQgaGVscGVyVWlkID0gZGF0YS5yZW1vdGVVaWQuaGVscGVyVWlkO1xyXG4gICAgbGV0IGFza2VyVWlkID0gZGF0YS5yZW1vdGVVaWQuYXNrZXJVaWQ7XHJcbiAgICBsZXQgZnJvbVVpZCA9IGRhdGEudWlkO1xyXG5cclxuICAgIGlmKGhlbHBlclVpZCA9PT0gZnJvbVVpZCl7XHJcbiAgICAgICAgZW1pdHRlcigweDBBLGRhdGEuaXRlbXMsY2xpZW50c1thc2tlclVpZF0pO1xyXG4gICAgfVxyXG59IiwiXHJcbi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFuZHkgb24gMjAxNy8zLzE0LlxyXG4gKi9cclxuaW1wb3J0IFRSIGZyb20gXCJ3c1NlcnZlci9zZXJ2aWNlcy9zb2NrZXQuc3RvcmFnZS9zb2NrZXRTdG9yYWdlXCI7XHJcbmltcG9ydCBkaXNjb25uZWN0Q2hhbmVsIGZyb20gXCIuL3Rhc2tzL2Rpc2Nvbm5lY3RDaGFuZWxcIjtcclxuaW1wb3J0IHJlZHVjZVVzZXIgZnJvbSBcIi4vdGFza3MvcmVkdWNlVXNlclwiO1xyXG5pbXBvcnQgaGVhcnRCZWF0IGZyb20gXCIuL3Rhc2tzL2hlYXJ0QmVhdFwiO1xyXG5pbXBvcnQgdXNlclJlZ2lzdGVyIGZyb20gXCIuL3Rhc2tzL3VzZXJSZWdpc3RlclwiO1xyXG5pbXBvcnQgY29ubmVjdEFzayBmcm9tIFwiLi90YXNrcy9jb25uZWN0QXNrXCI7XHJcbmltcG9ydCBjb25uZWN0QWNjZXB0IGZyb20gXCIuL3Rhc2tzL2Nvbm5lY3RBY2NlcHRcIjtcclxuaW1wb3J0IGNvbm5lY3RSZWplY3QgZnJvbSBcIi4vdGFza3MvY29ubmVjdFJlamVjdFwiO1xyXG5pbXBvcnQgaW50ZXJBY3RpdmVQYXNzYWdld2F5IGZyb20gXCIuL3Rhc2tzL2ludGVyQWN0aXZlUGFzc2FnZXdheVwiO1xyXG5pbXBvcnQgY2hhckNoYW5lbCBmcm9tIFwiLi90YXNrcy9jaGFyQ2hhbmVsXCI7XHJcbmltcG9ydCBhamF4RGF0YVJlZ2lzdGVyIGZyb20gXCIuL3Rhc2tzL2FqYXhEYXRhUmVnaXN0ZXJcIjtcclxuaW1wb3J0IHNjcm9sbENvb3JkaW5hdGUgZnJvbSBcIi4vdGFza3Mvc2Nyb2xsQ29vcmRpbmF0ZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGZyYW1lLCBzb2NrZXQpIHtcclxuICAgIHN3aXRjaCAoZnJhbWUuT3Bjb2RlKSB7XHJcbiAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IGZyYW1lLlBheWxvYWREYXRhLnNsaWNlKDIpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Lya6K+d5bey57uP57uT5p2fOlwiLCBzb2NrZXQsIGRhdGEpO1xyXG4gICAgICAgICAgICBpZihzb2NrZXQudWlkKWRpc2Nvbm5lY3RDaGFuZWwoc29ja2V0LCBkYXRhKTtcclxuICAgICAgICAgICAgaWYoc29ja2V0LnVpZClyZWR1Y2VVc2VyKHNvY2tldCwgZGF0YSk7XHJcbiAgICAgICAgICAgIHNvY2tldC5lbmQoKTtcclxuICAgICAgICAgICAgc29ja2V0LmRlc3Ryb3koKTsgICAvL+WIoOmZpOaWree6v+eahHNlc3Npb27vvIxcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdCA6XHJcbiAgICAgICAgICAgIFRSLnNldFN0b3JhZ2UoXCJvcGNvZGVcIixmcmFtZS5PcGNvZGUpO1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoZnJhbWUuUGF5bG9hZERhdGEudG9TdHJpbmcoKSkgfHwgXCJcIjtcclxuICAgICAgICAgICAgc3dpdGNoIChkYXRhLnBvcnQpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMHgwMDpcclxuICAgICAgICAgICAgICAgICAgICBoZWFydEJlYXQoc29ja2V0LCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMHgwMTogLy/ov5Tlm57kuIDlgItwYXNz5L+h6Jmf77yM5Lim5a2Y5YSy55So5oi25pW45pOaXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlclJlZ2lzdGVyKHNvY2tldCwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDB4MDI6IC8v5Y2P5Yqp6YCa6YGT55qE6K+i6ZeuXHJcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdEFzayhzb2NrZXQsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAweDAzOiAvL+WNj+WKqemAmumBk+eahOW6lOetlFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RBY2NlcHQoc29ja2V0LCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMHgwNDpcclxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0UmVqZWN0KHNvY2tldCwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDB4MDU6ICAgIC8v6L+c56iL5Y2P5Yqp5Lqk5LqS6YCa6YGTXHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJBY3RpdmVQYXNzYWdld2F5KHNvY2tldCwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDB4MDY6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDB4MDc6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDB4MDg6XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhckNoYW5lbChkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMHgwOTogIC8v5Lqk5o6lY2FsbGJhY2tJRFxyXG4gICAgICAgICAgICAgICAgICAgIGFqYXhEYXRhUmVnaXN0ZXIoc29ja2V0LCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMHgwQTogIC8v5Lqk5o6lc2Nyb2xs5Z2Q5qCHXHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQ29vcmRpbmF0ZShzb2NrZXQsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAweEZFOlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3RDaGFuZWwoc29ja2V0LCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMHhGRjogLy/mlq3lvIDljY/liqnpgJrpgZMvL+WFs+mXrXdzXHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGF0LmNsb3NlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCLkuK3mlq3ov5znqIvnlKjmiLdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0IDpcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQW5keSBvbiAyMDE3LzExLzYuXHJcbiAqL1xyXG5cclxuaW1wb3J0IFRSIGZyb20gXCJ3c1NlcnZlci9zZXJ2aWNlcy9zb2NrZXQuc3RvcmFnZS9zb2NrZXRTdG9yYWdlXCI7XHJcbmltcG9ydCBjcnlwdG8gZnJvbSBcImNyeXB0b1wiO1xyXG5cclxuY29uc3QgbWFzayA9IFwiMjU4RUFGQTUtRTkxNC00N0RBLTk1Q0EtQzVBQjBEQzg1QjExXCI7XHJcblxyXG4vL+WNleS4queUqOaIt+eahOaPoeaJi+WunuS+iztcclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGUsIHNvY2tldCkge1xyXG4gICAgbGV0IG9yaWdpbmFsID0gZS50b1N0cmluZygpLm1hdGNoKC9TZWMtV2ViU29ja2V0LUtleTogKC4rKS8pWzFdO1xyXG4gICAgbGV0IGtleSA9IGNyeXB0by5jcmVhdGVIYXNoKFwic2hhMVwiKS51cGRhdGUob3JpZ2luYWwgKyBtYXNrKS5kaWdlc3QoXCJiYXNlNjRcIik7XHJcbiAgICBzb2NrZXQud3JpdGUoXCJIVFRQLzEuMSAxMDEgU3dpdGNoaW5nIFByb3RvY29sc1xcclxcblwiKTtcclxuICAgIHNvY2tldC53cml0ZShcIlVwZ3JhZGU6V2Vic29ja2V0XFxyXFxuXCIpO1xyXG4gICAgc29ja2V0LndyaXRlKFwiQ29ubmVjdGlvbjpVcGdyYWRlXFxyXFxuXCIpO1xyXG4gICAgc29ja2V0LndyaXRlKFwiU2VjLVdlYlNvY2tldC1BY2NlcHQ6XCIgKyBrZXkgKyBcIlxcclxcblwiKTtcclxuICAgIHNvY2tldC53cml0ZShcIlxcclxcblwiKTtcclxufSIsImltcG9ydCB0b29sIGZyb20gXCJ3c1NlcnZlci9zZXJ2aWNlcy90b29sL2V4cG9ydHNcIjtcclxuaW1wb3J0IGhvc3QgZnJvbSBcIndzU2VydmVyL2ludGVyYWN0aXZlL2hvc3RcIjtcclxuaW1wb3J0IGhhbmRzaGFrZSBmcm9tIFwiLi8uLi9zaGFrZWhhbmQvc2hha2VoYW5kXCI7XHJcbmltcG9ydCBsb2cgZnJvbSBcImxvZ1wiO1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocG9ydCkge1xyXG4gICAgbGV0IG5ldFNlcnZlciA9IHJlcXVpcmUoJ25ldCcpLmNyZWF0ZVNlcnZlcihmdW5jdGlvbiAoc29ja2V0KSB7XHJcbiAgICAgICAgc29ja2V0Lm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGxvZy5lcnJvcihlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzb2NrZXQub24oJ2RhdGEnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBsZXQgZnJhbWUgPSB0b29sLmZyYW1lRGVjb2RlKGUpO1xyXG4gICAgICAgICAgICAvL+esrOS4gOasoeaPoeaJi1xyXG4gICAgICAgICAgICBpZiAoZnJhbWUuRklOID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuaPoeaJi1wiKTtcclxuICAgICAgICAgICAgICAgIGhhbmRzaGFrZShlLCBzb2NrZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8v5pWw5o2u5Lqk5LqSXHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaG9zdChmcmFtZSwgc29ja2V0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pLmxpc3Rlbihwb3J0LCAoKSA9PiB7fSk7XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hCQTs7O0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQ3JDQTs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBS0E7QUFDQTtBQUNBOzs7Ozs7OztBQ3JCQTs7O0FBSUE7OztBQUVBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7Ozs7OztBQ3REQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTs7QUNWQTs7O0FBSUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFIQTtBQU1BOztBQzdCQTs7O0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRkE7QUFNQTtBQUNBO0FBSUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBREE7QUFLQTtBQUNBO0FBQUE7O0FDN0NBOzs7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQUE7O0FDaENBOzs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7Ozs7O0FDVEE7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBOztBQy9CQTs7O0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBRkE7QUFTQTtBQUFBOztBQ3RCQTs7O0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFGQTtBQUFBO0FBSUE7QUFBQTs7QUN6Q0E7OztBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUZBO0FBU0E7QUFBQTs7QUN0QkE7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOztBQ3ZCQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7O0FDM0JBOzs7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FDaEVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUF4Q0E7QUFDQTtBQXlDQTtBQXREQTtBQXdEQTtBQUFBOzs7Ozs7QUMxRUE7OztBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _http_init_open_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3);\n/* harmony import */ var _socket_init_open_open_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);\n/**\r\n * Created by Andy on 2017/12/2.\r\n */\n\nglobal.ROOT_DIS = path__WEBPACK_IMPORTED_MODULE_0___default.a.resolve(__dirname, "../");\nconsole.log(global.ROOT_DIS);\nglobal.SOURCES_DIS = path__WEBPACK_IMPORTED_MODULE_0___default.a.resolve(__dirname, "../client/src");\nglobal.ASSETS_DIS = path__WEBPACK_IMPORTED_MODULE_0___default.a.resolve(__dirname, "../client/src/assets");\nconsole.log(global.CLIENT_DIS);\nglobal.SERVER_DIS = path__WEBPACK_IMPORTED_MODULE_0___default.a.resolve(__dirname);\nconsole.log(global.SERVER_DIS);\nglobal.DB_DIS = path__WEBPACK_IMPORTED_MODULE_0___default.a.resolve(global.SERVER_DIS, "database/json");\nconsole.log(global.DB_DIS);\n\nnew _http_init_open_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"]().open(80);\n\nObject(_socket_init_open_open_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"])(81);\n/* WEBPACK VAR INJECTION */}.call(this, "server"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NlcnZlci9pbmRleC5qcz8wYThiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFuZHkgb24gMjAxNy8xMi8yLlxyXG4gKi9cclxuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcclxuZ2xvYmFsLlJPT1RfRElTID0gcGF0aC5yZXNvbHZlKF9fZGlybmFtZSxcIi4uL1wiKTtcclxuXHJcbmNvbnNvbGUubG9nKGdsb2JhbC5ST09UX0RJUyk7XHJcbmdsb2JhbC5TT1VSQ0VTX0RJUyA9IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsXCIuLi9jbGllbnQvc3JjXCIpO1xyXG5nbG9iYWwuQVNTRVRTX0RJUyA9IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsXCIuLi9jbGllbnQvc3JjL2Fzc2V0c1wiKTtcclxuY29uc29sZS5sb2coZ2xvYmFsLkNMSUVOVF9ESVMpO1xyXG5nbG9iYWwuU0VSVkVSX0RJUyA9IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUpO1xyXG5jb25zb2xlLmxvZyhnbG9iYWwuU0VSVkVSX0RJUyk7XHJcbmdsb2JhbC5EQl9ESVMgPSBwYXRoLnJlc29sdmUoZ2xvYmFsLlNFUlZFUl9ESVMsXCJkYXRhYmFzZS9qc29uXCIpO1xyXG5jb25zb2xlLmxvZyhnbG9iYWwuREJfRElTKTtcclxuXHJcblxyXG5pbXBvcnQgQ3JlYXRlSHR0cCBmcm9tIFwiLi9odHRwL2luaXQvb3Blbi5qc1wiO1xyXG4obmV3IENyZWF0ZUh0dHAoKSkub3Blbig4MCk7XHJcblxyXG5pbXBvcnQgY3JlYXRlU29ja2V0IGZyb20gXCIuL3NvY2tldC9pbml0L29wZW4vb3Blbi5qc1wiO1xyXG5jcmVhdGVTb2NrZXQoODEpOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9\n')},function(module,exports){eval('module.exports = require("net");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJuZXRcIj8yMWVkIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm5ldFwiKTsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///10\n')}]);